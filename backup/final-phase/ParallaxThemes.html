<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nova: Writer's Conspiracy - Project Details</title>
    <meta name="description" content="Nova: Writer's Conspiracy - A cosmic atelier where storytellers conspire with AI to birth entire universes, balancing structure and soul in creative agency. A science fiction novella with philosophical undertones. Literary science fiction approach with focus on character development.">
    <meta property="og:title" content="Nova: Writer's Conspiracy">
    <meta property="og:description" content="Collaboration between human and AI in creative agency">
    <meta property="og:type" content="website">
    <meta property="og:url" content="">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Nova: Writer's Conspiracy">
    <meta name="twitter:description" content="Collaboration between human and AI in creative agency">
    
    <!-- External CSS Files -->
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="styles/themes.css">
    <link rel="stylesheet" href="styles/components.css">
</head>
<body id="detail-page">
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loader"></div>
    </div>

    <nav class="floating-nav" id="floatingNav">
        <div class="nav-content">
            <div class="nav-icon">üß≠</div>
            <ul class="nav-links">
                <li><a href="#home">üè† Home</a></li>
                <li><a href="#overview">üìã Overview</a></li>
                <li><a href="#gallery">üñºÔ∏è Gallery</a></li>
                <li><a href="#journey">üöÄ Journey</a></li>
                <li><a href="#specs">‚öôÔ∏è Specifications</a></li>
                <li><a href="#links">üîó Links</a></li>
                <li><button class="motion-toggle" onclick="toggleMotion()" aria-label="Toggle motion effects">üé¨ Stop Parallax</button></li>
                <li class="theme-switcher-container">
                    <label for="theme-select">üé® Theme:</label>
                    <select id="theme-select" onchange="setTheme(this.value)" aria-label="Select website theme">
                        <option value="original">Original</option>
                        <option value="dark">Dark</option>
                        <option value="ocean">Ocean</option>
                        <option value="forest">Forest</option>
                        <option value="sunset">Sunset</option>
                        <option value="twilight">Twilight</option>
                        <option value="lavender">Lavender</option>
                    </select>
                </li>
            </ul>
        </div>
    </nav>

    <main class="main-content" role="main" id="project-detail-main">
        <section class="hero" id="home" aria-label="Hero Section">
            <div class="hero-bg" aria-hidden="true"></div>
            <div class="hero-particles" aria-hidden="true" id="heroParticles"></div>
            <div class="hero-content">
                <div class="project-type-badge" id="projectTypeBadge">Code Project</div>
                <h1 id="projectTitle">Nova: Writer's Conspiracy</h1>
                <p class="subtitle" id="projectSubtitle">"They said creation was lonely. They were wrong. We never create alone."</p>
            </div>
            <div class="scroll-indicator">
                <span>Scroll to explore</span>
            </div>
        </section>

        <section class="content-section fade-in" id="overview" aria-label="Project Overview">
            <div class="container">
                <h2 class="section-title">Project Overview<span class="title-sparkle">‚ú®</span></h2>
                <p id="projectDescription">This project represents a comprehensive exploration of modern web development techniques, combining cutting-edge design principles with robust functionality. The goal was to create an immersive user experience that showcases creative work while maintaining accessibility and performance standards.</p>
                
                <div class="tags" id="projectTags">
                    <span class="tag">React</span>
                    <span class="tag">JavaScript</span>
                    <span class="tag">CSS3</span>
                    <span class="tag">Responsive Design</span>
                    <span class="tag">Parallax</span>
                    <span class="tag">Animation</span>
                </div>
            </div>
        </section>

        <section class="content-section fade-in" id="gallery" aria-label="Project Gallery">
            <div class="container">
                <h2 class="section-title">Gallery<span class="title-sparkle">‚ú®</span></h2>
                <div class="gallery-container">
                    <div class="gallery-grid" id="galleryGrid">
                        </div>
                </div>
            </div>
        </section>

        <section class="content-section fade-in" id="journey" aria-label="Development Journey">
            <div class="container">
                <h2 class="section-title">Development Journey<span class="title-sparkle">‚ú®</span></h2>
                <div class="timeline" id="timelineContainer">
                    </div>
            </div>
        </section>

        <section class="content-section fade-in" id="specs" aria-label="Unique Value Propositions">
            <div class="container">
                <h2 class="section-title">Unique Value Propositions<span class="title-sparkle">‚ú®</span></h2>
                <div class="spec-grid" id="specsGrid">
                    </div>
            </div>
        </section>

        <section class="content-section fade-in" id="artifacts" aria-label="Project Artifacts" style="display: none;">
            <div class="container">
                <h2 class="section-title">Project Artifacts<span class="title-sparkle">üíæ</span></h2>
                <p class="section-description text-center">Dive deeper into the technical and design documents.</p>
                <div class="artifacts-grid" id="artifactsGrid">
                </div>
            </div>
        </section>

        <section class="content-section fade-in" id="process" aria-label="Creative Process" style="display: none;">
            <div class="container">
                <h2 class="section-title">Creative Process<span class="title-sparkle">üé®</span></h2>
                <div class="process-content" id="processContent">
                </div>
            </div>
        </section>

        <section class="content-section fade-in" id="links" aria-label="Project Links">
            <div class="container">
                <h2 class="section-title">Project Links<span class="title-sparkle">‚ú®</span></h2>
                <div class="links-section" id="linksSection">
                    </div>
            </div>
        </section>
    </main>

    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "CreativeWork",
        "name": "Nova: Writer's Conspiracy",
        "description": "Collaboration between human and AI, balancing structure and soul in creative agency - your cosmic atelier. A writing workshop for a new tomorrow",
        "author": {
            "@type": "Person",
            "name": "Ray Swan"
        },
        "genre": "Creative Technology",
        "keywords": "AI writing, creative collaboration, storytelling, parallax design"
    }
    </script>

    <!-- Modular JavaScript Files -->
    <script src="js/main.js"></script>
    <script src="js/animations.js"></script>
    <script src="js/parallax.js"></script>
    <script src="js/theme.js"></script>
    <script src="js/ui.js"></script>

    <!-- Phase 3: Project Type Specific Functionality -->
    <script>
    document.addEventListener('DOMContentLoaded', () => {
        console.log('Phase 3 Project Type Specific functionality initialized');

        // Project data - this would typically come from a separate JSON file or API
        const projects = [
            {
                id: 4,
                title: "Nova: Writers Conspiracy",
                medium: "code",
                imageUrl: "images/projects/nova-writers-conspiracy/nova-hero-main.jpg",
                pitch: "Collaboration between human and AI in creative agency",
                role: "Full-Stack Developer & AI Integration Specialist",
                year: "2024",
                challenge: "Creating a seamless interface for human-AI creative collaboration",
                development: "Built with FastAPI backend and modern web frontend",
                outcome: "A revolutionary platform for collaborative storytelling",
                mood: "innovative",
                links: {
                    "Live Demo": "https://nova-demo.example.com",
                    "GitHub": "https://github.com/example/nova"
                },
                tech: ["Python", "FastAPI", "JavaScript", "AI/ML"],
                artifacts: [
                    {
                        name: "System Design Doc",
                        description: "Comprehensive overview of the multi-agent system architecture and data flows.",
                        url: "docs/nova_system_design.pdf",
                        icon: "üìÑ"
                    },
                    {
                        name: "Frontend Wireframes",
                        description: "Early-stage UI/UX sketches and wireframes for the collaboration dashboard.",
                        url: "docs/nova_wireframes.zip",
                        icon: "üñºÔ∏è"
                    },
                    {
                        name: "API Specification",
                        description: "Detailed FastAPI endpoint documentation for backend integration.",
                        url: "docs/nova_api_spec.pdf",
                        icon: "üîó"
                    },
                    {
                        name: "Agent Workflow Diagram",
                        description: "Visual breakdown of how different AI agents interact to generate content.",
                        url: "images/projects/nova-writers-conspiracy/nova-architecture-system.jpg",
                        icon: "üó∫Ô∏è"
                    }
                ],
                gallery: [
                    {
                        url: "images/projects/nova-writers-conspiracy/nova-dashboard.jpg",
                        title: "Main Dashboard",
                        description: "The central collaboration interface",
                        dimensions: "1920x1080"
                    }
                ]
            }
        ];

        // Get current project from sessionStorage (set by main gallery page)
        const currentProjectJson = sessionStorage.getItem('currentProject');
        let currentProject = null;

        if (currentProjectJson) {
            try {
                currentProject = JSON.parse(currentProjectJson);
                console.log('Current project loaded:', currentProject);
            } catch (e) {
                console.error('Error parsing current project:', e);
                // Fallback to first project in array
                currentProject = projects[0];
            }
        } else {
            console.warn('No current project in sessionStorage, using default');
            currentProject = projects[0];
        }

        // New DOM references for project type specific sections
        const artifactsSection = document.getElementById('artifacts');
        const artifactsGrid = document.getElementById('artifactsGrid');
        const processSection = document.getElementById('process');
        const inspirationSection = document.getElementById('inspiration');
        const excerptsSection = document.getElementById('excerpts');
        const themesAnalysisSection = document.getElementById('themes');

        // New DOM references for gallery modal enhancements
        const galleryModal = document.querySelector('.gallery-modal');
        const galleryModalGrid = document.querySelector('.gallery-modal-grid');
        const galleryModalTitle = document.querySelector('.gallery-modal h2');
        const galleryControls = document.querySelector('.gallery-controls');
        const galleryPrevBtn = document.getElementById('gallery-prev-btn');
        const galleryNextBtn = document.getElementById('gallery-next-btn');
        const galleryInfo = document.querySelector('.gallery-info');

        const galleryModalImgContainer = document.createElement('div');
        galleryModalImgContainer.className = 'gallery-modal-img-container';
        const galleryMainImg = document.createElement('img');
        galleryMainImg.className = 'gallery-modal-fullscreen-image';
        galleryModalImgContainer.appendChild(galleryMainImg);
        const galleryHotspotPanel = document.createElement('div');
        galleryHotspotPanel.className = 'hotspot-detail-panel';
        galleryHotspotPanel.innerHTML = '<button class="close-panel-btn">&times;</button><h4></h4><p></p>';
        galleryModalImgContainer.appendChild(galleryHotspotPanel);

        // Get a reference to the main-content element for background effects
        const mainContentElement = document.getElementById('project-detail-main');

        // Gallery state
        let currentGallery = [];
        let currentGalleryIndex = 0;
        const itemsPerPage = 6;

        // Debug new DOM element references
        console.log('New DOM references:');
        console.log('artifactsSection:', artifactsSection);
        console.log('artifactsGrid:', artifactsGrid);
        console.log('processSection:', processSection);
        console.log('inspirationSection:', inspirationSection);
        console.log('excerptsSection:', excerptsSection);
        console.log('themesAnalysisSection:', themesAnalysisSection);
        console.log('galleryModalImgContainer:', galleryModalImgContainer);
        console.log('galleryMainImg:', galleryMainImg);
        console.log('galleryHotspotPanel:', galleryHotspotPanel);
        console.log('mainContentElement:', mainContentElement);

        // Function to render project detail page
        function renderDetailPage(project) {
            if (!project) return;

            console.log('Rendering detail page for project:', project);

            // --- Conditional Section Display based on project.medium ---
            // Hide all type-specific sections first
            if (artifactsSection) artifactsSection.style.display = 'none';
            if (processSection) processSection.style.display = 'none';
            if (inspirationSection) inspirationSection.style.display = 'none';
            if (excerptsSection) excerptsSection.style.display = 'none';
            if (themesAnalysisSection) themesAnalysisSection.style.display = 'none';

            // Show relevant sections based on project medium
            switch (project.medium.toLowerCase()) {
                case 'code':
                    if (artifactsSection) {
                        artifactsSection.style.display = 'block';
                        // Populate artifacts for code projects
                        populateArtifacts(project.artifacts);
                    }
                    break;
                case 'art':
                    if (processSection) processSection.style.display = 'block';
                    if (inspirationSection) inspirationSection.style.display = 'block';
                    // Populate process/inspiration content if you have it in JSON
                    // document.getElementById('processContent').innerHTML = project.processContent || '';
                    // document.getElementById('inspirationContent').innerHTML = project.inspirationContent || '';
                    break;
                case 'writing':
                    if (excerptsSection) excerptsSection.style.display = 'block';
                    if (themesAnalysisSection) themesAnalysisSection.style.display = 'block';
                    // Populate excerpts/themes content
                    // document.getElementById('excerptsContent').innerHTML = project.excerpts || '';
                    // document.getElementById('themesContent').innerHTML = project.themesAnalysis || '';
                    break;
            }

            // Populate all static detail page elements (if elements exist)
            const detailHeroImg = document.getElementById('detail-hero-img');
            const detailTitle = document.getElementById('detail-title');
            const detailPitch = document.getElementById('detail-pitch');
            const detailRole = document.getElementById('detail-role');
            const detailYear = document.getElementById('detail-year');
            const detailChallenge = document.getElementById('detail-challenge');
            const detailDevelopment = document.getElementById('detail-development');
            const detailOutcome = document.getElementById('detail-outcome');

            if (detailHeroImg) detailHeroImg.src = project.imageUrl;
            if (detailTitle) detailTitle.textContent = project.title;
            if (detailPitch) detailPitch.textContent = project.pitch;
            if (detailRole) detailRole.textContent = project.role;
            if (detailYear) detailYear.textContent = project.year;
            if (detailChallenge) detailChallenge.textContent = project.challenge;
            if (detailDevelopment) detailDevelopment.textContent = project.development;
            if (detailOutcome) detailOutcome.textContent = project.outcome;

            // Populate Links dynamically
            const linksContainer = document.getElementById('linksSection');
            if (linksContainer && project.links) {
                linksContainer.innerHTML = '';
                for (const [text, url] of Object.entries(project.links)) {
                    const link = document.createElement('a');
                    link.href = url;
                    link.textContent = text;
                    link.className = 'link-card';
                    link.innerHTML = `
                        <span class="icon">üîó</span>
                        <h3>${text}</h3>
                        <p>Visit ${text.toLowerCase()}</p>
                    `;
                    link.target = '_blank';
                    link.rel = 'noopener noreferrer';
                    linksContainer.appendChild(link);
                }
            }

            // Populate Tech Tags dynamically
            const techTagsContainer = document.getElementById('detail-tech-tags');
            if (techTagsContainer && project.tech) {
                techTagsContainer.innerHTML = '';
                project.tech.forEach(tech => {
                    const tag = document.createElement('div');
                    tag.className = 'tag';
                    tag.textContent = tech;
                    techTagsContainer.appendChild(tag);
                });
            }
        }

        /**
         * Populates the artifacts grid for code projects.
         * @param {Array<Object>} artifacts - Array of artifact objects {name, description, url, icon, type}.
         */
        function populateArtifacts(artifacts) {
            if (!artifactsGrid || !artifacts) {
                console.warn("Artifacts grid or data not available.");
                return;
            }
            artifactsGrid.innerHTML = ''; // Clear existing artifacts
            if (artifacts.length === 0) {
                artifactsGrid.innerHTML = '<p class="text-center" style="color: var(--text-color-light);">No artifacts available for this project.</p>';
                return;
            }

            artifacts.forEach(artifact => {
                const card = document.createElement('a'); // Use 'a' tag for clickable artifacts
                card.href = artifact.url || '#';
                card.target = '_blank'; // Open in new tab
                card.rel = 'noopener noreferrer';
                card.className = 'artifact-card';

                card.innerHTML = `
                    <span class="artifact-icon">${artifact.icon || 'üìÑ'}</span>
                    <h4>${artifact.name}</h4>
                    <p>${artifact.description}</p>
                    <span class="artifact-link-icon">‚Üí</span>
                `;
                artifactsGrid.appendChild(card);
            });
        }

        // Gallery Modal Functions
        function openGalleryModal(projectId) {
            console.log('Opening gallery modal for project:', projectId);
            const project = projects.find(p => p.id === projectId) || currentProject;
            if (!project || !project.gallery || project.gallery.length === 0) {
                alert("No gallery images available for this project.");
                return;
            }

            currentGallery = project.gallery;
            currentGalleryIndex = 0;
            if (galleryModalTitle) galleryModalTitle.textContent = `${project.title} Gallery`;

            // Clear previous content
            if (galleryModalGrid) galleryModalGrid.innerHTML = '';
            galleryHotspotPanel.classList.remove('visible');

            // Determine if project is 'art' to use fullscreen/hotspot mode, or 'code' for grid view
            const isArtProject = project.medium.toLowerCase() === 'art';

            if (isArtProject && galleryModal) {
                // Art project: Show single full-screen image with navigation and potential hotspots
                if (galleryModalGrid) galleryModalGrid.style.display = 'none';
                galleryModal.appendChild(galleryModalImgContainer);
                if (galleryControls) galleryControls.style.display = 'flex';

                renderArtGalleryImage(currentGalleryIndex);
            } else {
                // Default (e.g., Code project): Show image grid
                if (galleryModalGrid) galleryModalGrid.style.display = 'grid';
                if (galleryModalImgContainer.parentNode === galleryModal) {
                    galleryModal.removeChild(galleryModalImgContainer);
                }
                if (galleryControls) galleryControls.style.display = 'flex';

                renderGalleryPage();
            }

            // Show modal (assuming there's an openModal function available)
            if (typeof openModal === 'function' && galleryModal) {
                openModal(galleryModal);
            }
        }

        // New function to render a single image in the gallery modal (for Art projects)
        function renderArtGalleryImage(index) {
            if (!currentGallery || index < 0 || index >= currentGallery.length) return;

            const item = currentGallery[index];
            galleryMainImg.src = item.url;
            galleryMainImg.alt = item.title;

            // Clear previous hotspots
            galleryModalImgContainer.querySelectorAll('.hotspot-btn').forEach(btn => btn.remove());
            galleryHotspotPanel.classList.remove('visible');

            // Add hotspots if they exist for the current image
            if (item.hotspots && item.hotspots.length > 0) {
                item.hotspots.forEach(hotspot => {
                    const hotspotBtn = document.createElement('button');
                    hotspotBtn.className = 'hotspot-btn';
                    hotspotBtn.style.left = `${hotspot.x}%`;
                    hotspotBtn.style.top = `${hotspot.y}%`;
                    hotspotBtn.textContent = hotspot.label || '+';

                    hotspotBtn.addEventListener('click', () => {
                        galleryHotspotPanel.querySelector('h4').textContent = hotspot.title;
                        galleryHotspotPanel.querySelector('p').textContent = hotspot.description;
                        galleryHotspotPanel.classList.add('visible');
                    });
                    galleryModalImgContainer.appendChild(hotspotBtn);
                });
            }

            // Update info text
            if (galleryInfo) {
                galleryInfo.textContent = `Image ${index + 1} of ${currentGallery.length} ‚Ä¢ ${item.dimensions || 'N/A'}`;
            }

            // Enable/disable nav buttons
            if (galleryPrevBtn) galleryPrevBtn.disabled = index === 0;
            if (galleryNextBtn) galleryNextBtn.disabled = index === currentGallery.length - 1;

            // Reset panning
            galleryMainImg.style.transform = 'translate3d(0,0,0)';

            // Set up panning for large images if motion is enabled
            if (window.motionEnabled) {
                setupImagePanning(galleryMainImg);
            }
        }

        function renderGalleryPage() {
            if (!galleryModalGrid || !currentGallery) return;

            galleryModalGrid.innerHTML = '';
            const startIndex = currentGalleryIndex * itemsPerPage;
            const endIndex = Math.min(startIndex + itemsPerPage, currentGallery.length);

            for (let i = startIndex; i < endIndex; i++) {
                const item = currentGallery[i];
                const galleryItem = document.createElement('div');
                galleryItem.className = 'gallery-item';
                galleryItem.innerHTML = `
                    <img src="${item.url}" alt="${item.title}" loading="lazy">
                    <div class="gallery-overlay">
                        <div class="gallery-overlay-content">
                            <h3>${item.title}</h3>
                            <p>${item.description}</p>
                        </div>
                    </div>
                `;
                galleryModalGrid.appendChild(galleryItem);
            }

            // Update info and navigation
            if (galleryInfo) {
                galleryInfo.textContent = `Page ${currentGalleryIndex + 1} of ${Math.ceil(currentGallery.length / itemsPerPage)}`;
            }
            if (galleryPrevBtn) galleryPrevBtn.disabled = currentGalleryIndex === 0;
            if (galleryNextBtn) galleryNextBtn.disabled = (currentGalleryIndex + 1) * itemsPerPage >= currentGallery.length;
        }

        // Navigation functions
        function nextGalleryPage() {
            if (!currentGallery) return;
            const isArtProject = galleryModalImgContainer.parentNode !== null;
            if (isArtProject) {
                if (currentGalleryIndex < currentGallery.length - 1) {
                    currentGalleryIndex++;
                    renderArtGalleryImage(currentGalleryIndex);
                }
            } else {
                if ((currentGalleryIndex + 1) * itemsPerPage < currentGallery.length) {
                    currentGalleryIndex++;
                    renderGalleryPage();
                }
            }
        }

        function prevGalleryPage() {
            if (!currentGallery) return;
            const isArtProject = galleryModalImgContainer.parentNode !== null;
            if (isArtProject) {
                if (currentGalleryIndex > 0) {
                    currentGalleryIndex--;
                    renderArtGalleryImage(currentGalleryIndex);
                }
            } else {
                if (currentGalleryIndex > 0) {
                    currentGalleryIndex--;
                    renderGalleryPage();
                }
            }
        }

        // Image Panning functionality
        let isPanning = false;
        let startX, startY, startLeft, startTop;

        function handlePanningMouseDown(e) {
            if (e.button !== 0) return;
            isPanning = true;
            galleryMainImg.classList.add('panning');
            startX = e.clientX;
            startY = e.clientY;
            const transform = window.getComputedStyle(galleryMainImg).transform;
            if (transform !== 'none') {
                const matrix = new DOMMatrixReadOnly(transform);
                startLeft = matrix.m41;
                startTop = matrix.m42;
            } else {
                startLeft = 0;
                startTop = 0;
            }
            e.preventDefault();
        }

        function handlePanningMouseMove(e) {
            if (!isPanning) return;
            requestAnimationFrame(() => {
                const dx = e.clientX - startX;
                const dy = e.clientY - startY;
                const newX = startLeft + dx;
                const newY = startTop + dy;
                galleryMainImg.style.transform = `translate3d(${newX}px, ${newY}px, 0)`;
            });
        }

        function handlePanningMouseUp() {
            isPanning = false;
            galleryMainImg.classList.remove('panning');
            document.removeEventListener('mousemove', handlePanningMouseMove);
            document.removeEventListener('mouseup', handlePanningMouseUp);
        }

        function setupImagePanning(img) {
            img.addEventListener('mousedown', handlePanningMouseDown);
            img.addEventListener('mousedown', () => {
                document.addEventListener('mousemove', handlePanningMouseMove);
                document.addEventListener('mouseup', handlePanningMouseUp);
            });
        }

        // Writing Section Focus Effect
        let currentFocusedSection = null;

        const writingSectionObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting && entry.intersectionRatio > 0.6) {
                    currentFocusedSection = entry.target.id;
                } else if (entry.target.id === currentFocusedSection && entry.intersectionRatio <= 0.4) {
                    currentFocusedSection = null;
                }
            });
            // Apply/remove focus class to main content
            if (mainContentElement) {
                mainContentElement.classList.toggle('section-focused', 
                    currentFocusedSection === 'excerpts' || currentFocusedSection === 'themes');
            }
        }, {
            threshold: [0.4, 0.6],
            rootMargin: '0px 0px -10% 0px'
        });

        // Observe the writing sections
        if (excerptsSection) writingSectionObserver.observe(excerptsSection);
        if (themesAnalysisSection) writingSectionObserver.observe(themesAnalysisSection);

        // Event listeners for gallery navigation
        if (galleryPrevBtn) galleryPrevBtn.addEventListener('click', prevGalleryPage);
        if (galleryNextBtn) galleryNextBtn.addEventListener('click', nextGalleryPage);

        // Event listener for hotspot panel close button
        if (galleryHotspotPanel) {
            galleryHotspotPanel.querySelector('.close-panel-btn').addEventListener('click', () => {
                galleryHotspotPanel.classList.remove('visible');
            });
        }

        // Make functions globally available
        window.openGalleryModal = openGalleryModal;
        window.nextGalleryPage = nextGalleryPage;
        window.prevGalleryPage = prevGalleryPage;

        // Initialize the page with the current project
        renderDetailPage(currentProject);

        console.log('Phase 3 functionality setup complete');
    });
    </script>
</body>
</html>