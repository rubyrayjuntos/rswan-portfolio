<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ray Swan | Creative Portfolio</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Playfair+Display:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-color: #e0e5ec;
            --shadow-light: #ffffff;
            --shadow-dark: #a3b1c6;
            --text-color: #31456A;
            --text-color-light: #6D82A2;
            --accent-color: #5a67d8;
            --accent-secondary: #f093fb;
            --accent-tertiary: #f5576c;
            --scroll-bar-color: #c8d0e7;
            --scroll-thumb-color: #a3b1c6;
            --featured-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --featured-text: #ffffff;
        }

        html { scroll-behavior: smooth; }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color-light);
            margin: 0;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        
        /* Custom Scrollbar Styling */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: var(--scroll-bar-color); border-radius: 10px; }
        ::-webkit-scrollbar-thumb { background: var(--scroll-thumb-color); border-radius: 10px; }
        ::-webkit-scrollbar-thumb:hover { background: var(--text-color); }

        .view { padding: 2rem; box-sizing: border-box; }

        /* --- GALLERY VIEW STYLES --- */
        #gallery-view .portfolio-container {
            display: grid;
            grid-template-columns: 300px 1fr;
            gap: 2.5rem;
            height: calc(100vh - 4rem);
            max-width: 1600px;
            margin: 0 auto;
        }

        .filter-sidebar {
            background: var(--bg-color);
            border-radius: 20px;
            padding: 1.5rem;
            box-shadow: 9px 9px 16px var(--shadow-dark), -9px -9px 16px var(--shadow-light);
            overflow-y: auto;
            height: 100%;
            display: flex;
            flex-direction: column;
        }
        
        .sidebar-header {
            padding-bottom: 1.5rem;
            margin-bottom: 1.5rem;
            border-bottom: 1px solid var(--scroll-bar-color);
        }
        .sidebar-header h1 {
            font-family: 'Playfair Display', serif;
            font-size: 1.75rem;
            color: var(--text-color);
            margin: 0;
            cursor: pointer;
            font-weight: 700;
        }
        .sidebar-header p {
            margin: 0.25rem 0 0 0;
            font-size: 1rem;
            color: var(--accent-color);
            cursor: pointer;
            text-decoration: none;
            font-weight: 500;
        }
        .sidebar-header p:hover { text-decoration: underline; }

        .filter-sidebar h2 {
            color: var(--text-color);
            text-align: center;
            margin: 0 0 1.5rem 0;
            font-weight: 600;
            font-size: 1.25rem;
        }

        .facet-group {
            margin-bottom: 1rem; border: none; padding: 0; border-radius: 10px;
            box-shadow: inset 3px 3px 6px var(--shadow-dark), inset -3px -3px 6px var(--shadow-light);
        }
        .facet-group summary {
            font-weight: 600; color: var(--text-color); padding: 1rem;
            cursor: pointer; list-style: none; position: relative;
        }
        .facet-group summary::-webkit-details-marker { display: none; }
        .facet-group summary::after {
            content: '+'; position: absolute; right: 1rem; font-size: 1.5rem;
            transition: transform 0.2s ease;
        }
        .facet-group[open] > summary::after { transform: rotate(45deg); }
        .facet-content { padding: 0 1rem 1rem 1rem; }
        .facet-group ul { list-style: none; padding: 0; margin: 0; }
        .facet-group li { margin-bottom: 0.75rem; }

        .neumorphic-control {
            display: flex; align-items: center; cursor: pointer;
            padding: 4px; border-radius: 8px; transition: all 0.2s ease-in-out;
        }
        .neumorphic-control:hover { background-color: #d1d9e6; }
        .neumorphic-control input { display: none; }
        .neumorphic-control .checkmark {
            display: inline-block; width: 20px; height: 20px; background: var(--bg-color);
            border-radius: 5px; margin-right: 12px;
            box-shadow: inset 3px 3px 6px var(--shadow-dark), inset -3px -3px 6px var(--shadow-light);
            position: relative; transition: box-shadow 0.2s ease-in-out;
        }
        .neumorphic-control input:checked + .checkmark { box-shadow: 3px 3px 6px var(--shadow-dark), -3px -3px 6px var(--shadow-light); }
        .neumorphic-control input:checked + .checkmark::after {
            content: '✔'; position: absolute; top: 50%; left: 50%;
            transform: translate(-50%, -50%); color: var(--accent-color);
            font-size: 14px; font-weight: bold;
        }
        .neumorphic-control input[type="radio"] + .checkmark { border-radius: 50%; }
        .neumorphic-control input[type="radio"]:checked + .checkmark::after {
            content: ''; width: 10px; height: 10px;
            background: var(--accent-color); border-radius: 50%;
        }
        .facet-count {
            margin-left: auto; font-size: 0.8rem; background-color: #d1d9e6;
            padding: 2px 6px; border-radius: 4px; color: var(--text-color-light);
        }

        .slider-container { padding: 0.5rem 0; }
        .slider-label { display: flex; justify-content: space-between; font-size: 0.9rem; margin-bottom: 0.5rem; }
        .neumorphic-slider {
            -webkit-appearance: none; appearance: none; width: 100%; height: 8px;
            background: var(--bg-color); outline: none; border-radius: 4px;
            box-shadow: inset 2px 2px 4px var(--shadow-dark), inset -2px -2px 4px var(--shadow-light);
        }
        .neumorphic-slider::-webkit-slider-thumb {
            -webkit-appearance: none; appearance: none; width: 20px; height: 20px;
            border-radius: 50%; background: var(--accent-color); cursor: pointer;
            box-shadow: 3px 3px 6px var(--shadow-dark), -3px -3px 6px var(--shadow-light);
        }
        .neumorphic-slider::-moz-range-thumb {
            width: 20px; height: 20px; border-radius: 50%;
            background: var(--accent-color); cursor: pointer; border: none;
            box-shadow: 3px 3px 6px var(--shadow-dark), -3px -3px 6px var(--shadow-light);
        }

        .project-gallery { display: flex; flex-direction: column; overflow-y: auto; padding-right: 1rem; }
        .active-filters { margin-bottom: 1.5rem; display: flex; flex-wrap: wrap; gap: 0.75rem; padding: 0.5rem; min-height: 40px; }
        .filter-pill {
            display: inline-flex; align-items: center; padding: 0.5rem 1rem;
            background: var(--bg-color); border-radius: 20px;
            box-shadow: 5px 5px 10px var(--shadow-dark), -5px -5px 10px var(--shadow-light);
            font-size: 0.9rem; color: var(--text-color);
        }
        .filter-pill span { font-weight: 500; text-transform: capitalize; }
        .filter-pill button {
            background: none; border: none; margin-left: 0.75rem; cursor: pointer;
            font-size: 1.2rem; color: var(--text-color-light); padding: 0; line-height: 1;
            transition: color 0.2s ease;
        }
        .filter-pill button:hover { color: var(--accent-color); }

        .project-grid { 
            display: grid; 
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); 
            gap: 2rem; 
            grid-auto-rows: max-content;
        }
        
        /* Card Variants */
        .project-card {
            background: var(--bg-color); border-radius: 15px;
            box-shadow: 8px 8px 15px var(--shadow-dark), -8px -8px 15px var(--shadow-light);
            overflow: hidden; transition: transform 0.3s ease, box-shadow 0.3s ease;
            cursor: pointer; display: flex; flex-direction: column;
            position: relative;
        }
        .project-card:hover { transform: translateY(-5px); box-shadow: 12px 12px 20px var(--shadow-dark), -12px -12px 20px var(--shadow-light); }
        
        .project-card.featured {
            background: var(--featured-gradient);
            color: var(--featured-text);
            grid-column: span 2;
        }
        .project-card.featured .project-card-content {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
        }
        .project-card.featured .card-tag {
            background: rgba(255, 255, 255, 0.2);
            color: var(--featured-text);
        }
        .project-card.featured h3 {
            color: var(--featured-text);
            font-size: 1.4rem;
        }
        
        .project-card.tall {
            grid-row: span 2;
        }
        .project-card.tall img {
            height: 280px;
        }
        
        .project-card.wide {
            grid-column: span 2;
        }
        .project-card.wide .project-card-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1.5rem;
            align-items: start;
        }
        
        .project-card img { width: 100%; height: 180px; object-fit: cover; display: block; }
        .project-card-content { padding: 1.5rem; flex-grow: 1; }
        .project-card h3 { 
            margin: 0 0 0.5rem 0; 
            color: var(--text-color); 
            font-size: 1.2rem; 
            font-weight: 600;
            font-family: 'Playfair Display', serif;
        }
        .project-card p { margin: 0 0 1rem 0; font-size: 0.95rem; line-height: 1.5; }
        .card-tags { display: flex; flex-wrap: wrap; gap: 0.5rem; font-size: 0.8rem; }
        .card-tag { background: #d1d9e6; padding: 0.25rem 0.5rem; border-radius: 5px; color: var(--text-color); }
        
        .project-status {
            position: absolute;
            top: 1rem;
            right: 1rem;
            padding: 0.25rem 0.75rem;
            border-radius: 15px;
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        .status-live { background: #10b981; color: white; }
        .status-development { background: #f59e0b; color: white; }
        .status-concept { background: #6b7280; color: white; }
        
        /* --- DETAIL VIEW / CASE STUDY STYLES --- */
        #detail-view { max-width: 1200px; margin: 0 auto; }
        .case-study-container { display: grid; grid-template-columns: 240px 1fr; gap: 3rem; align-items: start; }
        .case-study-nav { position: sticky; top: 2rem; }
        .case-study-nav ul { list-style: none; padding: 1rem; margin: 0; border-radius: 15px; box-shadow: 9px 9px 16px var(--shadow-dark), -9px -9px 16px var(--shadow-light); }
        .case-study-nav li a { display: block; padding: 0.75rem 1rem; text-decoration: none; color: var(--text-color-light); border-radius: 8px; transition: all 0.2s ease; font-weight: 500; }
        .case-study-nav li a:hover { background-color: #d1d9e6; color: var(--text-color); }
        
        /* Enhanced Typography Hierarchy */
        .case-study-content h1 { 
            font-family: 'Playfair Display', serif;
            font-size: 3.5rem; 
            color: var(--text-color); 
            margin: 0 0 0.5rem 0; 
            font-weight: 700;
            line-height: 1.2;
        }
        .case-study-content h2 { 
            font-family: 'Playfair Display', serif;
            font-size: 2.5rem; 
            color: var(--text-color); 
            margin: 3rem 0 2rem 0; 
            font-weight: 600;
            line-height: 1.3;
            position: relative;
        }
        .case-study-content h2::after {
            content: '';
            position: absolute;
            bottom: -0.5rem;
            left: 0;
            width: 60px;
            height: 3px;
            background: var(--accent-color);
            border-radius: 2px;
        }
        .case-study-content h3 { 
            font-family: 'Inter', sans-serif;
            font-size: 1.5rem; 
            color: var(--text-color); 
            margin: 2rem 0 1rem 0; 
            font-weight: 600;
            line-height: 1.4;
        }
        .case-study-content h4 { 
            font-family: 'Inter', sans-serif;
            font-size: 1.2rem; 
            color: var(--text-color); 
            margin: 1.5rem 0 0.5rem 0; 
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            font-size: 0.9rem;
        }
        .case-study-content p { 
            font-size: 1.1rem; 
            line-height: 1.7; 
            margin-bottom: 1.5rem;
            color: var(--text-color-light);
        }
        .case-study-content .lead {
            font-size: 1.3rem;
            line-height: 1.6;
            color: var(--text-color);
            font-weight: 400;
            margin-bottom: 2rem;
        }
        .case-study-content .section { margin-bottom: 4rem; }
        .case-study-content .section:last-child { margin-bottom: 2rem; }
        
        .hero-section img { width: 100%; border-radius: 15px; box-shadow: 8px 8px 15px var(--shadow-dark), -8px -8px 15px var(--shadow-light); }
        .title-block { margin: 2rem 0; }
        .title-block .pitch { 
            font-size: 1.25rem; 
            color: var(--text-color-light);
            line-height: 1.6;
            font-weight: 400;
        }
        .key-info-block { 
            display: flex; 
            gap: 2rem; 
            margin-top: 2rem; 
            padding: 2rem; 
            border-radius: 15px; 
            box-shadow: inset 5px 5px 10px var(--shadow-dark), inset -5px -5px 10px var(--shadow-light); 
        }
        .info-item { flex: 1; }
        .info-item h4 { margin: 0 0 0.5rem 0; color: var(--text-color); }
        .info-item p { margin: 0; }
        .info-item .btn-link { 
            display: inline-block; 
            margin-top: 0.5rem; 
            padding: 0.5rem 1rem; 
            text-decoration: none; 
            color: var(--accent-color); 
            font-weight: 600; 
            border-radius: 10px; 
            background: var(--bg-color); 
            box-shadow: 5px 5px 10px var(--shadow-dark), -5px -5px 10px var(--shadow-light); 
            transition: all 0.2s ease; 
        }
        .info-item .btn-link:hover { box-shadow: 2px 2px 5px var(--shadow-dark), -2px -2px 5px var(--shadow-light); }
        
        .narrative-block { 
            display: grid; 
            grid-template-columns: 1fr 1fr; 
            gap: 3rem; 
            align-items: start; 
            margin: 3rem 0;
        }
        .narrative-block img { width: 100%; border-radius: 10px; }
        .narrative-block.reverse { grid-template-columns: 1fr 1fr; }
        .narrative-block.reverse > div:first-child { order: 2; }
        .narrative-block.reverse > div:last-child { order: 1; }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 2rem;
            margin: 3rem 0;
        }
        .stat-item {
            text-align: center;
            padding: 2rem;
            border-radius: 15px;
            box-shadow: 8px 8px 15px var(--shadow-dark), -8px -8px 15px var(--shadow-light);
        }
        .stat-item .stat-number {
            font-size: 3rem;
            font-weight: 800;
            color: var(--accent-color);
            margin-bottom: 0.5rem;
            font-family: 'Inter', sans-serif;
        }
        .stat-item .stat-label {
            font-size: 1rem;
            color: var(--text-color);
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .tech-tags-container { 
            display: flex; 
            flex-wrap: wrap; 
            gap: 1rem; 
            margin: 2rem 0;
        }
        .tech-tag { 
            padding: 0.75rem 1.5rem; 
            border-radius: 10px; 
            background: var(--bg-color); 
            box-shadow: 5px 5px 10px var(--shadow-dark), -5px -5px 10px var(--shadow-light); 
            font-weight: 500; 
            color: var(--text-color); 
        }
        
        .quote-block {
            margin: 3rem 0;
            padding: 2rem;
            border-radius: 15px;
            background: var(--bg-color);
            box-shadow: inset 5px 5px 10px var(--shadow-dark), inset -5px -5px 10px var(--shadow-light);
            position: relative;
        }
        .quote-block::before {
            content: '"';
            font-size: 6rem;
            font-family: 'Playfair Display', serif;
            color: var(--accent-color);
            position: absolute;
            top: -1rem;
            left: 1rem;
            opacity: 0.3;
        }
        .quote-block p {
            font-style: italic;
            font-size: 1.2rem;
            color: var(--text-color);
            margin-bottom: 1rem;
        }
        .quote-block cite {
            color: var(--text-color-light);
            font-size: 0.9rem;
            font-weight: 500;
        }
        
        .back-to-gallery { 
            display: inline-block; 
            margin-bottom: 2rem; 
            padding: 0.75rem 1.5rem; 
            background: var(--bg-color); 
            color: var(--text-color); 
            font-weight: 600; 
            border-radius: 10px; 
            cursor: pointer; 
            box-shadow: 5px 5px 10px var(--shadow-dark), -5px -5px 10px var(--shadow-light); 
            transition: all 0.2s ease; 
        }
        .back-to-gallery:hover { box-shadow: 2px 2px 5px var(--shadow-dark), -2px -2px 5px var(--shadow-light); }

        /* --- MODAL STYLES --- */
        .modal-overlay {
            display: none; position: fixed; z-index: 1000;
            left: 0; top: 0; width: 100%; height: 100%;
            background-color: rgba(224, 229, 236, 0.85);
            justify-content: center; align-items: center;
        }
        .modal-content {
            padding: 2.5rem; background: var(--bg-color);
            border-radius: 20px;
            box-shadow: 9px 9px 16px var(--shadow-dark), -9px -9px 16px var(--shadow-light);
            color: var(--text-color);
            width: 90%; max-width: 700px;
            position: relative;
            line-height: 1.6;
        }
        .modal-close-btn {
            position: absolute; top: 1rem; right: 1.5rem;
            background: none; border: none; font-size: 2rem;
            color: var(--text-color-light); cursor: pointer;
            transition: color 0.2s ease;
        }
        .modal-close-btn:hover { color: var(--text-color); }
        .modal-content h3 { 
            font-family: 'Playfair Display', serif;
            font-size: 2rem; 
            margin: 0 0 1rem 0; 
            color: var(--text-color);
            font-weight: 600;
        }
        .modal-content p { color: var(--text-color-light); margin-bottom: 1.5rem; }
        .modal-content strong { color: var(--text-color); }
        .contact-links { display: flex; flex-direction: column; align-items: flex-start; gap: 1rem; }
        .contact-links a {
            padding: 0.75rem 1.5rem; text-decoration: none; color: var(--accent-color);
            font-weight: 600; border-radius: 10px; background: var(--bg-color);
            box-shadow: 5px 5px 10px var(--shadow-dark), -5px -5px 10px var(--shadow-light);
            transition: all 0.2s ease;
        }
        .contact-links a:hover { box-shadow: 2px 2px 5px var(--shadow-dark), -2px -2px 5px var(--shadow-light); }

        /* Responsive Design */
        @media (max-width: 1024px) {
            #gallery-view .portfolio-container {
                grid-template-columns: 1fr;
                gap: 2rem;
                height: auto;
            }
            
            .filter-sidebar {
                height: auto;
                position: sticky;
                top: 2rem;
                z-index: 10;
            }
            
            .project-card.featured,
            .project-card.wide {
                grid-column: span 1;
            }
            
            .case-study-container {
                grid-template-columns: 1fr;
                gap: 2rem;
            }
            
            .case-study-nav {
                position: static;
            }
        }

        @media (max-width: 768px) {
            .project-grid {
                grid-template-columns: 1fr;
            }
            
            .case-study-content h1 {
                font-size: 2.5rem;
            }
            
            .case-study-content h2 {
                font-size: 2rem;
            }
            
            .modal-content {
                width: 95%;
                padding: 2rem;
            }
        }
    </style>
</head>
<body>

<div id="gallery-view" class="view">
    <div class="portfolio-container">
        <aside class="filter-sidebar">
            <div class="sidebar-header">
                <h1 id="open-about-modal">Ray Swan</h1>
                <p id="open-contact-modal">rayswan.org</p>
            </div>
            <h2>Filters</h2>
            <details class="facet-group" open><summary>Medium</summary><div class="facet-content"><ul id="medium-filter-list"></ul></div></details>
            <details class="facet-group" open><summary>Genre</summary><div class="facet-content"><ul id="genre-filter-list"></ul></div></details>
            <details class="facet-group" open><summary>Technology</summary><div class="facet-content"><ul id="tech-filter-list"></ul></div></details>
            <details class="facet-group" open><summary>Style / Theme</summary><div class="facet-content"><ul id="style-filter-list"></ul></div></details>
            <details class="facet-group"><summary>Mood</summary><div class="facet-content"><ul id="mood-filter-list"></ul></div></details>
            <details class="facet-group"><summary>Year</summary><div class="facet-content slider-container"><label for="year-filter" class="slider-label"><span>After:</span><span id="year-value">2020</span></label><input type="range" id="year-filter" class="neumorphic-slider" name="year" min="2020" max="2024" value="2020"></div></details>
        </aside>
        <main class="project-gallery">
            <nav class="active-filters" aria-label="Selected Filters" id="active-filters-container"></nav>
            <div class="project-grid" id="project-grid-container"></div>
        </main>
    </div>
</div>

<div id="detail-view" class="view" style="display: none;">
    <!-- Detail content is injected here by JS -->
</div>

<div id="about-modal" class="modal-overlay">
    <div class="modal-content">
        <button class="modal-close-btn" data-modal-id="about-modal">×</button>
        <h3>I don't just build the shell. I bring the soul.</h3>
        <p><strong>I'm a Synthesist</strong> — a multi-disciplinary creator who blends technology, narrative, and design into experiences that feel alive.</p>
        <p>For me, the story is never separate from the system — every line of code, every brushstroke, every word exists to move someone. My career reflects this philosophy. I began in educational video games, moving from technical support to artist, then animator, and finally producing titles. That early work taught me how to see every role as part of the same creative whole.</p>
        <p>From there, I directed software development at a finance firm while earning my master's in humanities — pairing technical leadership with a deep understanding of culture and story. This combination of rigor and imagination is at the heart of how I approach every project.</p>
        <p>Today, I see technology and storytelling not as parallel tracks but as collaborators. With the rise of AI and emergent tools, I craft software with its own narrative voice — allowing technology itself to become a character, an agent, within immersive worlds.</p>
        <p>This site is my stage. A place where all my disciplines — code, art, writing — come together to speak in unison.</p>
        <p><strong>I don't just deliver projects. I build experiences that resonate.</strong></p>
    </div>
</div>

<div id="contact-modal" class="modal-overlay">
    <div class="modal-content">
        <button class="modal-close-btn" data-modal-id="contact-modal">×</button>
        <h3>Let's talk about what we can build — and bring to life — together.</h3>
        <p>I work with people who see the bigger picture. People who understand that the best systems tell stories, and the best stories are built on solid systems.</p>
        <p>Whether you're here to talk about a technical challenge, a creative commission, or simply to explore what's possible when disciplines intersect — I'd love to hear from you.</p>
        <div class="contact-links">
            <a href="mailto:your-email@example.com">Start a Conversation →</a>
            <p>or connect with me directly on:</p>
            <div>
                <a href="#" style="margin-right: 1rem;">LinkedIn</a>
                <a href="#">GitHub</a>
            </div>
        </div>
    </div>
</div>



<script>
document.addEventListener('DOMContentLoaded', () => {
    // --- ENHANCED DATA SOURCE ---
    const projects = [
        { 
            id: 1, 
            title: "AI Tarot Reader", 
            description: "An interactive web app using generative AI to provide mystical tarot readings with personalized interpretations.", 
            imageUrl: "https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=500&h=300&fit=crop", 
            medium: "code", 
            genre: ["ai-agent", "tarot", "web-app"], 
            style: ["minimalist", "modern"],
            tech: ["openai", "javascript", "css"],
            mood: ["mystical", "contemplative"],
            year: 2024,
            status: "live",
            variant: "featured"
        },
        { 
            id: 2, 
            title: "Procedural Landscape Generator", 
            description: "A Three.js application that creates infinite, explorable landscapes using Perlin noise and procedural generation.", 
            imageUrl: "https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=500&h=300&fit=crop", 
            medium: "code", 
            genre: ["generative-art", "3d", "interactive"], 
            style: ["organic", "abstract"],
            tech: ["threejs", "webgl", "javascript"],
            mood: ["serene", "exploratory"],
            year: 2024,
            status: "live",
            variant: "tall"
        },
        { 
            id: 3, 
            title: "Digital Collage Series", 
            description: "A collection of surreal digital collages exploring themes of identity and transformation in the digital age.", 
            imageUrl: "https://images.unsplash.com/photo-1541961017774-22349e4a1262?w=500&h=300&fit=crop", 
            medium: "art", 
            genre: ["digital-art", "collage", "conceptual"], 
            style: ["surreal", "abstract"],
            tech: ["photoshop", "procreate"],
            mood: ["contemplative", "mysterious"],
            year: 2023,
            status: "live"
        },
        { 
            id: 4, 
            title: "Interactive Poetry Engine", 
            description: "An AI-powered web application that generates contextual poetry based on user emotions and environmental data.", 
            imageUrl: "https://images.unsplash.com/photo-1481627834876-b7833e8f5570?w=500&h=300&fit=crop", 
            medium: "code", 
            genre: ["ai-agent", "poetry", "web-app"], 
            style: ["literary", "minimalist"],
            tech: ["openai", "node", "react"],
            mood: ["contemplative", "inspiring"],
            year: 2024,
            status: "development",
            variant: "wide"
        },
        { 
            id: 5, 
            title: "Neon Dreams", 
            description: "A series of cyberpunk-inspired illustrations exploring themes of technology and humanity.", 
            imageUrl: "https://images.unsplash.com/photo-1518709268805-4e9042af2176?w=500&h=300&fit=crop", 
            medium: "art", 
            genre: ["illustration", "cyberpunk", "character-design"], 
            style: ["cyberpunk", "neon"],
            tech: ["illustrator", "photoshop"],
            mood: ["energetic", "futuristic"],
            year: 2023,
            status: "live"
        },
        { 
            id: 6, 
            title: "Quantum Meditation App", 
            description: "A mobile app that uses biometric data to create personalized meditation experiences with real-time visualizations.", 
            imageUrl: "https://images.unsplash.com/photo-1499209974431-9dddcece7f88?w=500&h=300&fit=crop", 
            medium: "code", 
            genre: ["mobile-app", "wellness", "biometric"], 
            style: ["zen", "minimalist"],
            tech: ["react-native", "ml", "sensors"],
            mood: ["serene", "mindful"],
            year: 2023,
            status: "concept"
        },
        { 
            id: 7, 
            title: "Evolutionary Music Composer", 
            description: "An algorithmic composition system that evolves musical pieces based on listener feedback and environmental factors.", 
            imageUrl: "https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=500&h=300&fit=crop", 
            medium: "code", 
            genre: ["generative-music", "ai-agent", "composition"], 
            style: ["algorithmic", "experimental"],
            tech: ["python", "ml", "audio-processing"],
            mood: ["experimental", "dynamic"],
            year: 2024,
            status: "development"
        },
        { 
            id: 8, 
            title: "Urban Sketches", 
            description: "A collection of quick digital sketches capturing the energy and rhythm of city life.", 
            imageUrl: "https://images.unsplash.com/photo-1449824913935-59a10b8d2000?w=500&h=300&fit=crop", 
            medium: "art", 
            genre: ["sketch", "urban", "observational"], 
            style: ["loose", "expressive"],
            tech: ["procreate", "ipad"],
            mood: ["energetic", "observational"],
            year: 2022,
            status: "live"
        },
        { 
            id: 9, 
            title: "Blockchain Storytelling Platform", 
            description: "A decentralized platform where stories evolve through community contributions, with ownership tracked on blockchain.", 
            imageUrl: "https://images.unsplash.com/photo-1451187580459-43490279c0fa?w=500&h=300&fit=crop", 
            medium: "code", 
            genre: ["blockchain", "storytelling", "community"], 
            style: ["collaborative", "futuristic"],
            tech: ["solidity", "web3", "ipfs"],
            mood: ["collaborative", "innovative"],
            year: 2023,
            status: "concept"
        },
        { 
            id: 10, 
            title: "Emotional Weather System", 
            description: "An installation that visualizes collective human emotions as weather patterns using social media sentiment analysis.", 
            imageUrl: "https://images.unsplash.com/photo-1419242902214-272b3f66ee7a?w=500&h=300&fit=crop", 
            medium: "installation", 
            genre: ["data-visualization", "interactive", "social"], 
            style: ["ambient", "responsive"],
            tech: ["processing", "apis", "sensors"],
            mood: ["contemplative", "social"],
            year: 2023,
            status: "live",
            variant: "featured"
        }
    ];

    // --- FILTERING SYSTEM ---
    let activeFilters = {
        medium: [],
        genre: [],
        tech: [],
        style: [],
        mood: [],
        year: 2020
    };

    // Extract unique values for filter options
    function extractUniqueValues(key) {
        const values = new Set();
        projects.forEach(project => {
            if (Array.isArray(project[key])) {
                project[key].forEach(value => values.add(value));
            } else {
                values.add(project[key]);
            }
        });
        return Array.from(values).sort();
    }

    // Count projects for each filter option
    function countProjectsForFilter(key, value) {
        return projects.filter(project => {
            if (Array.isArray(project[key])) {
                return project[key].includes(value);
            } else {
                return project[key] === value;
            }
        }).length;
    }

    // Initialize filter lists
    function initializeFilters() {
        const filterConfigs = [
            { key: 'medium', containerId: 'medium-filter-list', type: 'radio' },
            { key: 'genre', containerId: 'genre-filter-list', type: 'checkbox' },
            { key: 'tech', containerId: 'tech-filter-list', type: 'checkbox' },
            { key: 'style', containerId: 'style-filter-list', type: 'checkbox' },
            { key: 'mood', containerId: 'mood-filter-list', type: 'checkbox' }
        ];

        filterConfigs.forEach(config => {
            const container = document.getElementById(config.containerId);
            const uniqueValues = extractUniqueValues(config.key);
            
            uniqueValues.forEach(value => {
                const count = countProjectsForFilter(config.key, value);
                const li = document.createElement('li');
                li.innerHTML = `
                    <label class="neumorphic-control">
                        <input type="${config.type}" name="${config.key}" value="${value}" 
                               ${config.type === 'radio' && value === 'all' ? 'checked' : ''}>
                        <span class="checkmark"></span>
                        <span class="filter-label">${value.replace('-', ' ')}</span>
                        <span class="facet-count">${count}</span>
                    </label>
                `;
                container.appendChild(li);
            });

            // Add "All" option for radio buttons
            if (config.type === 'radio') {
                const allOption = document.createElement('li');
                allOption.innerHTML = `
                    <label class="neumorphic-control">
                        <input type="radio" name="${config.key}" value="all" checked>
                        <span class="checkmark"></span>
                        <span class="filter-label">All</span>
                        <span class="facet-count">${projects.length}</span>
                    </label>
                `;
                container.insertBefore(allOption, container.firstChild);
            }
        });

        // Initialize year slider
        const yearSlider = document.getElementById('year-filter');
        const yearValue = document.getElementById('year-value');
        
        yearSlider.addEventListener('input', function() {
            yearValue.textContent = this.value;
            activeFilters.year = parseInt(this.value);
            applyFilters();
        });
    }

    // Apply filters and update display
    function applyFilters() {
        const filteredProjects = projects.filter(project => {
            // Year filter
            if (project.year < activeFilters.year) return false;
            
            // Medium filter (radio - single selection)
            if (activeFilters.medium.length > 0 && !activeFilters.medium.includes('all')) {
                if (!activeFilters.medium.includes(project.medium)) return false;
            }
            
            // Multi-select filters (checkboxes)
            const multiSelectFilters = ['genre', 'tech', 'style', 'mood'];
            for (const filterKey of multiSelectFilters) {
                if (activeFilters[filterKey].length > 0) {
                    const hasMatch = activeFilters[filterKey].some(filterValue => 
                        project[filterKey].includes(filterValue)
                    );
                    if (!hasMatch) return false;
                }
            }
            
            return true;
        });

        renderProjects(filteredProjects);
        updateActiveFiltersDisplay();
    }

    // Update active filters display
    function updateActiveFiltersDisplay() {
        const container = document.getElementById('active-filters-container');
        container.innerHTML = '';

        // Add filter pills for active filters
        Object.entries(activeFilters).forEach(([key, values]) => {
            if (key === 'year') {
                if (values > 2020) {
                    const pill = createFilterPill(`After ${values}`, key, values);
                    container.appendChild(pill);
                }
            } else if (Array.isArray(values) && values.length > 0) {
                values.forEach(value => {
                    if (value !== 'all') {
                        const pill = createFilterPill(value.replace('-', ' '), key, value);
                        container.appendChild(pill);
                    }
                });
            }
        });
    }

    // Create filter pill element
    function createFilterPill(label, filterKey, filterValue) {
        const pill = document.createElement('div');
        pill.className = 'filter-pill';
        pill.innerHTML = `
            <span>${label}</span>
            <button onclick="removeFilter('${filterKey}', '${filterValue}')">×</button>
        `;
        return pill;
    }

    // Remove filter function
    window.removeFilter = function(filterKey, filterValue) {
        if (filterKey === 'year') {
            activeFilters.year = 2020;
            document.getElementById('year-filter').value = 2020;
            document.getElementById('year-value').textContent = '2020';
        } else {
            const index = activeFilters[filterKey].indexOf(filterValue);
            if (index > -1) {
                activeFilters[filterKey].splice(index, 1);
            }
            
            // Update corresponding checkbox/radio
            const input = document.querySelector(`input[name="${filterKey}"][value="${filterValue}"]`);
            if (input) {
                input.checked = false;
            }
            
            // For radio buttons, check "all" if no other option is selected
            if (filterKey === 'medium' && activeFilters[filterKey].length === 0) {
                const allOption = document.querySelector(`input[name="${filterKey}"][value="all"]`);
                if (allOption) {
                    allOption.checked = true;
                }
            }
        }
        
        applyFilters();
    };

    // Render projects grid
    function renderProjects(projectsToRender) {
        const container = document.getElementById('project-grid-container');
        container.innerHTML = '';

        projectsToRender.forEach(project => {
            const card = document.createElement('div');
            card.className = `project-card ${project.variant || ''}`;
            card.innerHTML = `
                <img src="${project.imageUrl}" alt="${project.title}">
                <div class="project-card-content">
                    <h3>${project.title}</h3>
                    <p>${project.description}</p>
                    <div class="card-tags">
                        ${project.genre.map(tag => `<span class="card-tag">${tag}</span>`).join('')}
                    </div>
                </div>
                <div class="project-status status-${project.status}">${project.status}</div>
            `;
            
            card.addEventListener('click', () => showProjectDetail(project));
            container.appendChild(card);
        });
    }

    // Show project detail view
    function showProjectDetail(project) {
        const detailView = document.getElementById('detail-view');
        const galleryView = document.getElementById('gallery-view');
        
        detailView.innerHTML = `
            <div class="case-study-container">
                <nav class="case-study-nav">
                    <ul>
                        <li><a href="#overview">Overview</a></li>
                        <li><a href="#process">Process</a></li>
                        <li><a href="#technology">Technology</a></li>
                        <li><a href="#impact">Impact</a></li>
                    </ul>
                </nav>
                <div class="case-study-content">
                    <div class="back-to-gallery" onclick="showGalleryView()">← Back to Gallery</div>
                    
                    <div class="hero-section">
                        <img src="${project.imageUrl}" alt="${project.title}">
                    </div>
                    
                    <div class="title-block">
                        <h1>${project.title}</h1>
                        <p class="lead">${project.description}</p>
                    </div>
                    
                    <div class="key-info-block">
                        <div class="info-item">
                            <h4>Medium</h4>
                            <p>${project.medium}</p>
                        </div>
                        <div class="info-item">
                            <h4>Year</h4>
                            <p>${project.year}</p>
                        </div>
                        <div class="info-item">
                            <h4>Status</h4>
                            <p>${project.status}</p>
                        </div>
                    </div>
                    
                    <div class="section">
                        <h2 id="overview">Overview</h2>
                        <p>This project represents a unique intersection of ${project.genre.join(', ')} and ${project.style.join(', ')} aesthetics. The work explores themes of ${project.mood.join(' and ')} through innovative use of ${project.tech.join(', ')}.</p>
                        
                        <div class="stats-grid">
                            <div class="stat-item">
                                <div class="stat-number">42</div>
                                <div class="stat-label">Hours</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-number">7</div>
                                <div class="stat-label">Iterations</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-number">100%</div>
                                <div class="stat-label">Satisfaction</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="section">
                        <h2 id="process">Creative Process</h2>
                        <div class="narrative-block">
                            <div>
                                <h3>Discovery & Research</h3>
                                <p>Every project begins with deep research into the subject matter and target audience. I believe in understanding not just what to build, but why it needs to exist.</p>
                            </div>
                            <div>
                                <img src="https://images.unsplash.com/photo-1581291518857-4e27b48ff24e?w=400&h=300&fit=crop" alt="Research process">
                            </div>
                        </div>
                        
                        <div class="narrative-block reverse">
                            <div>
                                <h3>Iteration & Refinement</h3>
                                <p>Through multiple iterations, the concept evolves from initial sketches to fully realized experiences. Each version builds upon the learnings of the previous.</p>
                            </div>
                            <div>
                                <img src="https://images.unsplash.com/photo-1581291518633-83b4ebd1d83e?w=400&h=300&fit=crop" alt="Iteration process">
                            </div>
                        </div>
                    </div>
                    
                    <div class="section">
                        <h2 id="technology">Technology Stack</h2>
                        <div class="tech-tags-container">
                            ${project.tech.map(tech => `<span class="tech-tag">${tech}</span>`).join('')}
                        </div>
                        <p>The technical implementation balances innovation with reliability, ensuring the final product is both cutting-edge and robust.</p>
                    </div>
                    
                    <div class="section">
                        <h2 id="impact">Impact & Reflection</h2>
                        <div class="quote-block">
                            <p>This project pushed the boundaries of what's possible when technology meets creativity. It's a testament to the power of interdisciplinary thinking.</p>
                            <cite>— Ray Swan, Creator</cite>
                        </div>
                        <p>The project has resonated with audiences who appreciate the careful balance between technical excellence and creative vision. It represents a step forward in my ongoing exploration of how technology can enhance human expression.</p>
                    </div>
                </div>
            </div>
        `;
        
        galleryView.style.display = 'none';
        detailView.style.display = 'block';
    }

    // Show gallery view
    window.showGalleryView = function() {
        const detailView = document.getElementById('detail-view');
        const galleryView = document.getElementById('gallery-view');
        
        detailView.style.display = 'none';
        galleryView.style.display = 'block';
    };

    // Event listeners for filters
    function setupFilterEventListeners() {
        document.addEventListener('change', function(e) {
            if (e.target.type === 'checkbox' || e.target.type === 'radio') {
                const filterKey = e.target.name;
                const filterValue = e.target.value;
                
                if (e.target.type === 'radio') {
                    // Radio button - single selection
                    activeFilters[filterKey] = filterValue === 'all' ? [] : [filterValue];
                } else {
                    // Checkbox - multiple selection
                    if (e.target.checked) {
                        if (!activeFilters[filterKey].includes(filterValue)) {
                            activeFilters[filterKey].push(filterValue);
                        }
                    } else {
                        const index = activeFilters[filterKey].indexOf(filterValue);
                        if (index > -1) {
                            activeFilters[filterKey].splice(index, 1);
                        }
                    }
                }
                
                applyFilters();
            }
        });
    }

    // Modal functionality
    function setupModals() {
        const aboutModal = document.getElementById('about-modal');
        const contactModal = document.getElementById('contact-modal');
        const openAboutBtn = document.getElementById('open-about-modal');
        const openContactBtn = document.getElementById('open-contact-modal');

        openAboutBtn.addEventListener('click', () => {
            aboutModal.style.display = 'flex';
        });

        openContactBtn.addEventListener('click', () => {
            contactModal.style.display = 'flex';
        });

        // Close modals
        document.addEventListener('click', function(e) {
            if (e.target.classList.contains('modal-overlay') || 
                e.target.classList.contains('modal-close-btn')) {
                const modal = e.target.closest('.modal-overlay');
                if (modal) {
                    modal.style.display = 'none';
                }
            }
        });
    }

    // Initialize everything
    function init() {
        initializeFilters();
        setupFilterEventListeners();
        setupModals();
        renderProjects(projects);
        updateActiveFiltersDisplay();
    }

    // Start the application
    init();
});
</script>
</body>
</html><!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ray Swan | Creative Portfolio</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Playfair+Display:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-color: #e0e5ec;
            --shadow-light: #ffffff;
            --shadow-dark: #a3b1c6;
            --text-color: #31456A;
            --text-color-light: #6D82A2;
            --accent-color: #5a67d8;
            --accent-secondary: #f093fb;
            --accent-tertiary: #f5576c;
            --scroll-bar-color: #c8d0e7;
            --scroll-thumb-color: #a3b1c6;
            --featured-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --featured-text: #ffffff;
        }

        html { scroll-behavior: smooth; }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color-light);
            margin: 0;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        
        /* Custom Scrollbar Styling */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: var(--scroll-bar-color); border-radius: 10px; }
        ::-webkit-scrollbar-thumb { background: var(--scroll-thumb-color); border-radius: 10px; }
        ::-webkit-scrollbar-thumb:hover { background: var(--text-color); }

        .view { padding: 2rem; box-sizing: border-box; }

        /* --- GALLERY VIEW STYLES --- */
        #gallery-view .portfolio-container {
            display: grid;
            grid-template-columns: 300px 1fr;
            gap: 2.5rem;
            height: calc(100vh - 4rem);
            max-width: 1600px;
            margin: 0 auto;
        }

        .filter-sidebar {
            background: var(--bg-color);
            border-radius: 20px;
            padding: 1.5rem;
            box-shadow: 9px 9px 16px var(--shadow-dark), -9px -9px 16px var(--shadow-light);
            overflow-y: auto;
            height: 100%;
            display: flex;
            flex-direction: column;
        }
        
        .sidebar-header {
            padding-bottom: 1.5rem;
            margin-bottom: 1.5rem;
            border-bottom: 1px solid var(--scroll-bar-color);
        }
        .sidebar-header h1 {
            font-family: 'Playfair Display', serif;
            font-size: 1.75rem;
            color: var(--text-color);
            margin: 0;
            cursor: pointer;
            font-weight: 700;
        }
        .sidebar-header p {
            margin: 0.25rem 0 0 0;
            font-size: 1rem;
            color: var(--accent-color);
            cursor: pointer;
            text-decoration: none;
            font-weight: 500;
        }
        .sidebar-header p:hover { text-decoration: underline; }

        .filter-sidebar h2 {
            color: var(--text-color);
            text-align: center;
            margin: 0 0 1.5rem 0;
            font-weight: 600;
            font-size: 1.25rem;
        }

        .facet-group {
            margin-bottom: 1rem; border: none; padding: 0; border-radius: 10px;
            box-shadow: inset 3px 3px 6px var(--shadow-dark), inset -3px -3px 6px var(--shadow-light);
        }
        .facet-group summary {
            font-weight: 600; color: var(--text-color); padding: 1rem;
            cursor: pointer; list-style: none; position: relative;
        }
        .facet-group summary::-webkit-details-marker { display: none; }
        .facet-group summary::after {
            content: '+'; position: absolute; right: 1rem; font-size: 1.5rem;
            transition: transform 0.2s ease;
        }
        .facet-group[open] > summary::after { transform: rotate(45deg); }
        .facet-content { padding: 0 1rem 1rem 1rem; }
        .facet-group ul { list-style: none; padding: 0; margin: 0; }
        .facet-group li { margin-bottom: 0.75rem; }

        .neumorphic-control {
            display: flex; align-items: center; cursor: pointer;
            padding: 4px; border-radius: 8px; transition: all 0.2s ease-in-out;
        }
        .neumorphic-control:hover { background-color: #d1d9e6; }
        .neumorphic-control input { display: none; }
        .neumorphic-control .checkmark {
            display: inline-block; width: 20px; height: 20px; background: var(--bg-color);
            border-radius: 5px; margin-right: 12px;
            box-shadow: inset 3px 3px 6px var(--shadow-dark), inset -3px -3px 6px var(--shadow-light);
            position: relative; transition: box-shadow 0.2s ease-in-out;
        }
        .neumorphic-control input:checked + .checkmark { box-shadow: 3px 3px 6px var(--shadow-dark), -3px -3px 6px var(--shadow-light); }
        .neumorphic-control input:checked + .checkmark::after {
            content: '✔'; position: absolute; top: 50%; left: 50%;
            transform: translate(-50%, -50%); color: var(--accent-color);
            font-size: 14px; font-weight: bold;
        }
        .neumorphic-control input[type="radio"] + .checkmark { border-radius: 50%; }
        .neumorphic-control input[type="radio"]:checked + .checkmark::after {
            content: ''; width: 10px; height: 10px;
            background: var(--accent-color); border-radius: 50%;
        }
        .facet-count {
            margin-left: auto; font-size: 0.8rem; background-color: #d1d9e6;
            padding: 2px 6px; border-radius: 4px; color: var(--text-color-light);
        }

        .slider-container { padding: 0.5rem 0; }
        .slider-label { display: flex; justify-content: space-between; font-size: 0.9rem; margin-bottom: 0.5rem; }
        .neumorphic-slider {
            -webkit-appearance: none; appearance: none; width: 100%; height: 8px;
            background: var(--bg-color); outline: none; border-radius: 4px;
            box-shadow: inset 2px 2px 4px var(--shadow-dark), inset -2px -2px 4px var(--shadow-light);
        }
        .neumorphic-slider::-webkit-slider-thumb {
            -webkit-appearance: none; appearance: none; width: 20px; height: 20px;
            border-radius: 50%; background: var(--accent-color); cursor: pointer;
            box-shadow: 3px 3px 6px var(--shadow-dark), -3px -3px 6px var(--shadow-light);
        }
        .neumorphic-slider::-moz-range-thumb {
            width: 20px; height: 20px; border-radius: 50%;
            background: var(--accent-color); cursor: pointer; border: none;
            box-shadow: 3px 3px 6px var(--shadow-dark), -3px -3px 6px var(--shadow-light);
        }

        .project-gallery { display: flex; flex-direction: column; overflow-y: auto; padding-right: 1rem; }
        .active-filters { margin-bottom: 1.5rem; display: flex; flex-wrap: wrap; gap: 0.75rem; padding: 0.5rem; min-height: 40px; }
        .filter-pill {
            display: inline-flex; align-items: center; padding: 0.5rem 1rem;
            background: var(--bg-color); border-radius: 20px;
            box-shadow: 5px 5px 10px var(--shadow-dark), -5px -5px 10px var(--shadow-light);
            font-size: 0.9rem; color: var(--text-color);
        }
        .filter-pill span { font-weight: 500; text-transform: capitalize; }
        .filter-pill button {
            background: none; border: none; margin-left: 0.75rem; cursor: pointer;
            font-size: 1.2rem; color: var(--text-color-light); padding: 0; line-height: 1;
            transition: color 0.2s ease;
        }
        .filter-pill button:hover { color: var(--accent-color); }

        .project-grid { 
            display: grid; 
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); 
            gap: 2rem; 
            grid-auto-rows: max-content;
        }
        
        /* Card Variants */
        .project-card {
            background: var(--bg-color); border-radius: 15px;
            box-shadow: 8px 8px 15px var(--shadow-dark), -8px -8px 15px var(--shadow-light);
            overflow: hidden; transition: transform 0.3s ease, box-shadow 0.3s ease;
            cursor: pointer; display: flex; flex-direction: column;
            position: relative;
        }
        .project-card:hover { transform: translateY(-5px); box-shadow: 12px 12px 20px var(--shadow-dark), -12px -12px 20px var(--shadow-light); }
        
        .project-card.featured {
            background: var(--featured-gradient);
            color: var(--featured-text);
            grid-column: span 2;
        }
        .project-card.featured .project-card-content {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
        }
        .project-card.featured .card-tag {
            background: rgba(255, 255, 255, 0.2);
            color: var(--featured-text);
        }
        .project-card.featured h3 {
            color: var(--featured-text);
            font-size: 1.4rem;
        }
        
        .project-card.tall {
            grid-row: span 2;
        }
        .project-card.tall img {
            height: 280px;
        }
        
        .project-card.wide {
            grid-column: span 2;
        }
        .project-card.wide .project-card-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1.5rem;
            align-items: start;
        }
        
        .project-card img { width: 100%; height: 180px; object-fit: cover; display: block; }
        .project-card-content { padding: 1.5rem; flex-grow: 1; }
        .project-card h3 { 
            margin: 0 0 0.5rem 0; 
            color: var(--text-color); 
            font-size: 1.2rem; 
            font-weight: 600;
            font-family: 'Playfair Display', serif;
        }
        .project-card p { margin: 0 0 1rem 0; font-size: 0.95rem; line-height: 1.5; }
        .card-tags { display: flex; flex-wrap: wrap; gap: 0.5rem; font-size: 0.8rem; }
        .card-tag { background: #d1d9e6; padding: 0.25rem 0.5rem; border-radius: 5px; color: var(--text-color); }
        
        .project-status {
            position: absolute;
            top: 1rem;
            right: 1rem;
            padding: 0.25rem 0.75rem;
            border-radius: 15px;
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        .status-live { background: #10b981; color: white; }
        .status-development { background: #f59e0b; color: white; }
        .status-concept { background: #6b7280; color: white; }
        
        /* --- DETAIL VIEW / CASE STUDY STYLES --- */
        #detail-view { max-width: 1200px; margin: 0 auto; }
        .case-study-container { display: grid; grid-template-columns: 240px 1fr; gap: 3rem; align-items: start; }
        .case-study-nav { position: sticky; top: 2rem; }
        .case-study-nav ul { list-style: none; padding: 1rem; margin: 0; border-radius: 15px; box-shadow: 9px 9px 16px var(--shadow-dark), -9px -9px 16px var(--shadow-light); }
        .case-study-nav li a { display: block; padding: 0.75rem 1rem; text-decoration: none; color: var(--text-color-light); border-radius: 8px; transition: all 0.2s ease; font-weight: 500; }
        .case-study-nav li a:hover { background-color: #d1d9e6; color: var(--text-color); }
        
        /* Enhanced Typography Hierarchy */
        .case-study-content h1 { 
            font-family: 'Playfair Display', serif;
            font-size: 3.5rem; 
            color: var(--text-color); 
            margin: 0 0 0.5rem 0; 
            font-weight: 700;
            line-height: 1.2;
        }
        .case-study-content h2 { 
            font-family: 'Playfair Display', serif;
            font-size: 2.5rem; 
            color: var(--text-color); 
            margin: 3rem 0 2rem 0; 
            font-weight: 600;
            line-height: 1.3;
            position: relative;
        }
        .case-study-content h2::after {
            content: '';
            position: absolute;
            bottom: -0.5rem;
            left: 0;
            width: 60px;
            height: 3px;
            background: var(--accent-color);
            border-radius: 2px;
        }
        .case-study-content h3 { 
            font-family: 'Inter', sans-serif;
            font-size: 1.5rem; 
            color: var(--text-color); 
            margin: 2rem 0 1rem 0; 
            font-weight: 600;
            line-height: 1.4;
        }
        .case-study-content h4 { 
            font-family: 'Inter', sans-serif;
            font-size: 1.2rem; 
            color: var(--text-color); 
            margin: 1.5rem 0 0.5rem 0; 
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            font-size: 0.9rem;
        }
        .case-study-content p { 
            font-size: 1.1rem; 
            line-height: 1.7; 
            margin-bottom: 1.5rem;
            color: var(--text-color-light);
        }
        .case-study-content .lead {
            font-size: 1.3rem;
            line-height: 1.6;
            color: var(--text-color);
            font-weight: 400;
            margin-bottom: 2rem;
        }
        .case-study-content .section { margin-bottom: 4rem; }
        .case-study-content .section:last-child { margin-bottom: 2rem; }
        
        .hero-section img { width: 100%; border-radius: 15px; box-shadow: 8px 8px 15px var(--shadow-dark), -8px -8px 15px var(--shadow-light); }
        .title-block { margin: 2rem 0; }
        .title-block .pitch { 
            font-size: 1.25rem; 
            color: var(--text-color-light);
            line-height: 1.6;
            font-weight: 400;
        }
        .key-info-block { 
            display: flex; 
            gap: 2rem; 
            margin-top: 2rem; 
            padding: 2rem; 
            border-radius: 15px; 
            box-shadow: inset 5px 5px 10px var(--shadow-dark), inset -5px -5px 10px var(--shadow-light); 
        }
        .info-item { flex: 1; }
        .info-item h4 { margin: 0 0 0.5rem 0; color: var(--text-color); }
        .info-item p { margin: 0; }
        .info-item .btn-link { 
            display: inline-block; 
            margin-top: 0.5rem; 
            padding: 0.5rem 1rem; 
            text-decoration: none; 
            color: var(--accent-color); 
            font-weight: 600; 
            border-radius: 10px; 
            background: var(--bg-color); 
            box-shadow: 5px 5px 10px var(--shadow-dark), -5px -5px 10px var(--shadow-light); 
            transition: all 0.2s ease; 
        }
        .info-item .btn-link:hover { box-shadow: 2px 2px 5px var(--shadow-dark), -2px -2px 5px var(--shadow-light); }
        
        .narrative-block { 
            display: grid; 
            grid-template-columns: 1fr 1fr; 
            gap: 3rem; 
            align-items: start; 
            margin: 3rem 0;
        }
        .narrative-block img { width: 100%; border-radius: 10px; }
        .narrative-block.reverse { grid-template-columns: 1fr 1fr; }
        .narrative-block.reverse > div:first-child { order: 2; }
        .narrative-block.reverse > div:last-child { order: 1; }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 2rem;
            margin: 3rem 0;
        }
        .stat-item {
            text-align: center;
            padding: 2rem;
            border-radius: 15px;
            box-shadow: 8px 8px 15px var(--shadow-dark), -8px -8px 15px var(--shadow-light);
        }
        .stat-item .stat-number {
            font-size: 3rem;
            font-weight: 800;
            color: var(--accent-color);
            margin-bottom: 0.5rem;
            font-family: 'Inter', sans-serif;
        }
        .stat-item .stat-label {
            font-size: 1rem;
            color: var(--text-color);
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .tech-tags-container { 
            display: flex; 
            flex-wrap: wrap; 
            gap: 1rem; 
            margin: 2rem 0;
        }
        .tech-tag { 
            padding: 0.75rem 1.5rem; 
            border-radius: 10px; 
            background: var(--bg-color); 
            box-shadow: 5px 5px 10px var(--shadow-dark), -5px -5px 10px var(--shadow-light); 
            font-weight: 500; 
            color: var(--text-color); 
        }
        
        .quote-block {
            margin: 3rem 0;
            padding: 2rem;
            border-radius: 15px;
            background: var(--bg-color);
            box-shadow: inset 5px 5px 10px var(--shadow-dark), inset -5px -5px 10px var(--shadow-light);
            position: relative;
        }
        .quote-block::before {
            content: '"';
            font-size: 6rem;
            font-family: 'Playfair Display', serif;
            color: var(--accent-color);
            position: absolute;
            top: -1rem;
            left: 1rem;
            opacity: 0.3;
        }
        .quote-block p {
            font-style: italic;
            font-size: 1.2rem;
            color: var(--text-color);
            margin-bottom: 1rem;
        }
        .quote-block cite {
            color: var(--text-color-light);
            font-size: 0.9rem;
            font-weight: 500;
        }
        
        .back-to-gallery { 
            display: inline-block; 
            margin-bottom: 2rem; 
            padding: 0.75rem 1.5rem; 
            background: var(--bg-color); 
            color: var(--text-color); 
            font-weight: 600; 
            border-radius: 10px; 
            cursor: pointer; 
            box-shadow: 5px 5px 10px var(--shadow-dark), -5px -5px 10px var(--shadow-light); 
            transition: all 0.2s ease; 
        }
        .back-to-gallery:hover { box-shadow: 2px 2px 5px var(--shadow-dark), -2px -2px 5px var(--shadow-light); }

        /* --- MODAL STYLES --- */
        .modal-overlay {
            display: none; position: fixed; z-index: 1000;
            left: 0; top: 0; width: 100%; height: 100%;
            background-color: rgba(224, 229, 236, 0.85);
            justify-content: center; align-items: center;
        }
        .modal-content {
            padding: 2.5rem; background: var(--bg-color);
            border-radius: 20px;
            box-shadow: 9px 9px 16px var(--shadow-dark), -9px -9px 16px var(--shadow-light);
            color: var(--text-color);
            width: 90%; max-width: 700px;
            position: relative;
            line-height: 1.6;
        }
        .modal-close-btn {
            position: absolute; top: 1rem; right: 1.5rem;
            background: none; border: none; font-size: 2rem;
            color: var(--text-color-light); cursor: pointer;
            transition: color 0.2s ease;
        }
        .modal-close-btn:hover { color: var(--text-color); }
        .modal-content h3 { 
            font-family: 'Playfair Display', serif;
            font-size: 2rem; 
            margin: 0 0 1rem 0; 
            color: var(--text-color);
            font-weight: 600;
        }
        .modal-content p { color: var(--text-color-light); margin-bottom: 1.5rem; }
        .modal-content strong { color: var(--text-color); }
        .contact-links { display: flex; flex-direction: column; align-items: flex-start; gap: 1rem; }
        .contact-links a {
            padding: 0.75rem 1.5rem; text-decoration: none; color: var(--accent-color);
            font-weight: 600; border-radius: 10px; background: var(--bg-color);
            box-shadow: 5px 5px 10px var(--shadow-dark), -5px -5px 10px var(--shadow-light);
            transition: all 0.2s ease;
        }
        .contact-links a:hover { box-shadow: 2px 2px 5px var(--shadow-dark), -2px -2px 5px var(--shadow-light); }

        /* Responsive Design */
        @media (max-width: 1024px) {
            #gallery-view .portfolio-container {
                grid-template-columns: 1fr;
                gap: 2rem;
                height: auto;
            }
            
            .filter-sidebar {
                height: auto;
                position: sticky;
                top: 2rem;
                z-index: 10;
            }
            
            .project-card.featured,
            .project-card.wide {
                grid-column: span 1;
            }
            
            .case-study-container {
                grid-template-columns: 1fr;
                gap: 2rem;
            }
            
            .case-study-nav {
                position: static;
            }
        }

        @media (max-width: 768px) {
            .project-grid {
                grid-template-columns: 1fr;
            }
            
            .case-study-content h1 {
                font-size: 2.5rem;
            }
            
            .case-study-content h2 {
                font-size: 2rem;
            }
            
            .modal-content {
                width: 95%;
                padding: 2rem;
            }
        }
    </style>
</head>
<body>

<div id="gallery-view" class="view">
    <div class="portfolio-container">
        <aside class="filter-sidebar">
            <div class="sidebar-header">
                <h1 id="open-about-modal">Ray Swan</h1>
                <p id="open-contact-modal">rayswan.org</p>
            </div>
            <h2>Filters</h2>
            <details class="facet-group" open><summary>Medium</summary><div class="facet-content"><ul id="medium-filter-list"></ul></div></details>
            <details class="facet-group" open><summary>Genre</summary><div class="facet-content"><ul id="genre-filter-list"></ul></div></details>
            <details class="facet-group" open><summary>Technology</summary><div class="facet-content"><ul id="tech-filter-list"></ul></div></details>
            <details class="facet-group" open><summary>Style / Theme</summary><div class="facet-content"><ul id="style-filter-list"></ul></div></details>
            <details class="facet-group"><summary>Mood</summary><div class="facet-content"><ul id="mood-filter-list"></ul></div></details>
            <details class="facet-group"><summary>Year</summary><div class="facet-content slider-container"><label for="year-filter" class="slider-label"><span>After:</span><span id="year-value">2020</span></label><input type="range" id="year-filter" class="neumorphic-slider" name="year" min="2020" max="2024" value="2020"></div></details>
        </aside>
        <main class="project-gallery">
            <nav class="active-filters" aria-label="Selected Filters" id="active-filters-container"></nav>
            <div class="project-grid" id="project-grid-container"></div>
        </main>
    </div>
</div>

<div id="detail-view" class="view" style="display: none;">
    <!-- Detail content is injected here by JS -->
</div>

<div id="about-modal" class="modal-overlay">
    <div class="modal-content">
        <button class="modal-close-btn" data-modal-id="about-modal">×</button>
        <h3>I don't just build the shell. I bring the soul.</h3>
        <p><strong>I'm a Synthesist</strong> — a multi-disciplinary creator who blends technology, narrative, and design into experiences that feel alive.</p>
        <p>For me, the story is never separate from the system — every line of code, every brushstroke, every word exists to move someone. My career reflects this philosophy. I began in educational video games, moving from technical support to artist, then animator, and finally producing titles. That early work taught me how to see every role as part of the same creative whole.</p>
        <p>From there, I directed software development at a finance firm while earning my master's in humanities — pairing technical leadership with a deep understanding of culture and story. This combination of rigor and imagination is at the heart of how I approach every project.</p>
        <p>Today, I see technology and storytelling not as parallel tracks but as collaborators. With the rise of AI and emergent tools, I craft software with its own narrative voice — allowing technology itself to become a character, an agent, within immersive worlds.</p>
        <p>This site is my stage. A place where all my disciplines — code, art, writing — come together to speak in unison.</p>
        <p><strong>I don't just deliver projects. I build experiences that resonate.</strong></p>
    </div>
</div>

<div id="contact-modal" class="modal-overlay">
    <div class="modal-content">
        <button class="modal-close-btn" data-modal-id="contact-modal">×</button>
        <h3>Let's talk about what we can build — and bring to life — together.</h3>
        <p>I work with people who see the bigger picture. People who understand that the best systems tell stories, and the best stories are built on solid systems.</p>
        <p>Whether you're here to talk about a technical challenge, a creative commission, or simply to explore what's possible when disciplines intersect — I'd love to hear from you.</p>
        <div class="contact-links">
            <a href="mailto:your-email@example.com">Start a Conversation →</a>
            <p>or connect with me directly on:</p>
            <div>
                <a href="#" style="margin-right: 1rem;">LinkedIn</a>
                <a href="#">GitHub</a>
            </div>
        </div>
    </div>
</div>



<script>
document.addEventListener('DOMContentLoaded', () => {
    // --- ENHANCED DATA SOURCE ---
    const projects = [
        { 
            id: 1, 
            title: "AI Tarot Reader", 
            description: "An interactive web app using generative AI to provide mystical tarot readings with personalized interpretations.", 
            imageUrl: "https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=500&h=300&fit=crop", 
            medium: "code", 
            genre: ["ai-agent", "tarot", "web-app"], 
            style: ["minimalist", "modern"],
            tech: ["openai", "javascript", "css"],
            mood: ["mystical", "contemplative"],
            year: 2024,
            status: "live",
            variant: "featured"
        },
        { 
            id: 2, 
            title: "Procedural Landscape Generator", 
            description: "A Three.js application that creates infinite, explorable landscapes using Perlin noise and procedural generation.", 
            imageUrl: "https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=500&h=300&fit=crop", 
            medium: "code", 
            genre: ["generative-art", "3d", "interactive"], 
            style: ["organic", "abstract"],
            tech: ["threejs", "webgl", "javascript"],
            mood: ["serene", "exploratory"],
            year: 2024,
            status: "live",
            variant: "tall"
        },
        { 
            id: 3, 
            title: "Digital Collage Series", 
            description: "A collection of surreal digital collages exploring themes of identity and transformation in the digital age.", 
            imageUrl: "https://images.unsplash.com/photo-1541961017774-22349e4a1262?w=500&h=300&fit=crop", 
            medium: "art", 
            genre: ["digital-art", "collage", "conceptual"], 
            style: ["surreal", "abstract"],
            tech: ["photoshop", "procreate"],
            mood: ["contemplative", "mysterious"],
            year: 2023,
            status: "live"
        },
        { 
            id: 4, 
            title: "Interactive Poetry Engine", 
            description: "An AI-powered web application that generates contextual poetry based on user emotions and environmental data.", 
            imageUrl: "https://images.unsplash.com/photo-1481627834876-b7833e8f5570?w=500&h=300&fit=crop", 
            medium: "code", 
            genre: ["ai-agent", "poetry", "web-app"], 
            style: ["literary", "minimalist"],
            tech: ["openai", "node", "react"],
            mood: ["contemplative", "inspiring"],
            year: 2024,
            status: "development",
            variant: "wide"
        },
        { 
            id: 5, 
            title: "Neon Dreams", 
            description: "A series of cyberpunk-inspired illustrations exploring themes of technology and humanity.", 
            imageUrl: "https://images.unsplash.com/photo-1518709268805-4e9042af2176?w=500&h=300&fit=crop", 
            medium: "art", 
            genre: ["illustration", "cyberpunk", "character-design"], 
            style: ["cyberpunk", "neon"],
            tech: ["illustrator", "photoshop"],
            mood: ["energetic", "futuristic"],
            year: 2023,
            status: "live"
        },
        { 
            id: 6, 
            title: "Quantum Meditation App", 
            description: "A mobile app that uses biometric data to create personalized meditation experiences with real-time visualizations.", 
            imageUrl: "https://images.unsplash.com/photo-1499209974431-9dddcece7f88?w=500&h=300&fit=crop", 
            medium: "code", 
            genre: ["mobile-app", "wellness", "biometric"], 
            style: ["zen", "minimalist"],
            tech: ["react-native", "ml", "sensors"],
            mood: ["serene", "mindful"],
            year: 2023,
            status: "concept"
        },
        { 
            id: 7, 
            title: "Evolutionary Music Composer", 
            description: "An algorithmic composition system that evolves musical pieces based on listener feedback and environmental factors.", 
            imageUrl: "https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=500&h=300&fit=crop", 
            medium: "code", 
            genre: ["generative-music", "ai-agent", "composition"], 
            style: ["algorithmic", "experimental"],
            tech: ["python", "ml", "audio-processing"],
            mood: ["experimental", "dynamic"],
            year: 2024,
            status: "development"
        },
        { 
            id: 8, 
            title: "Urban Sketches", 
            description: "A collection of quick digital sketches capturing the energy and rhythm of city life.", 
            imageUrl: "https://images.unsplash.com/photo-1449824913935-59a10b8d2000?w=500&h=300&fit=crop", 
            medium: "art", 
            genre: ["sketch", "urban", "observational"], 
            style: ["loose", "expressive"],
            tech: ["procreate", "ipad"],
            mood: ["energetic", "observational"],
            year: 2022,
            status: "live"
        },
        { 
            id: 9, 
            title: "Blockchain Storytelling Platform", 
            description: "A decentralized platform where stories evolve through community contributions, with ownership tracked on blockchain.", 
            imageUrl: "https://images.unsplash.com/photo-1451187580459-43490279c0fa?w=500&h=300&fit=crop", 
            medium: "code", 
            genre: ["blockchain", "storytelling", "community"], 
            style: ["collaborative", "futuristic"],
            tech: ["solidity", "web3", "ipfs"],
            mood: ["collaborative", "innovative"],
            year: 2023,
            status: "concept"
        },
        { 
            id: 10, 
            title: "Emotional Weather System", 
            description: "An installation that visualizes collective human emotions as weather patterns using social media sentiment analysis.", 
            imageUrl: "https://images.unsplash.com/photo-1419242902214-272b3f66ee7a?w=500&h=300&fit=crop", 
            medium: "installation", 
            genre: ["data-visualization", "interactive", "social"], 
            style: ["ambient", "responsive"],
            tech: ["processing", "apis", "sensors"],
            mood: ["contemplative", "social"],
            year: 2023,
            status: "live",
            variant: "featured"
        }
    ];

    // --- FILTERING SYSTEM ---
    let activeFilters = {
        medium: [],
        genre: [],
        tech: [],
        style: [],
        mood: [],
        year: 2020
    };

    // Extract unique values for filter options
    function extractUniqueValues(key) {
        const values = new Set();
        projects.forEach(project => {
            if (Array.isArray(project[key])) {
                project[key].forEach(value => values.add(value));
            } else {
                values.add(project[key]);
            }
        });
        return Array.from(values).sort();
    }

    // Count projects for each filter option
    function countProjectsForFilter(key, value) {
        return projects.filter(project => {
            if (Array.isArray(project[key])) {
                return project[key].includes(value);
            } else {
                return project[key] === value;
            }
        }).length;
    }

    // Initialize filter lists
    function initializeFilters() {
        const filterConfigs = [
            { key: 'medium', containerId: 'medium-filter-list', type: 'radio' },
            { key: 'genre', containerId: 'genre-filter-list', type: 'checkbox' },
            { key: 'tech', containerId: 'tech-filter-list', type: 'checkbox' },
            { key: 'style', containerId: 'style-filter-list', type: 'checkbox' },
            { key: 'mood', containerId: 'mood-filter-list', type: 'checkbox' }
        ];

        filterConfigs.forEach(config => {
            const container = document.getElementById(config.containerId);
            const uniqueValues = extractUniqueValues(config.key);
            
            uniqueValues.forEach(value => {
                const count = countProjectsForFilter(config.key, value);
                const li = document.createElement('li');
                li.innerHTML = `
                    <label class="neumorphic-control">
                        <input type="${config.type}" name="${config.key}" value="${value}" 
                               ${config.type === 'radio' && value === 'all' ? 'checked' : ''}>
                        <span class="checkmark"></span>
                        <span class="filter-label">${value.replace('-', ' ')}</span>
                        <span class="facet-count">${count}</span>
                    </label>
                `;
                container.appendChild(li);
            });

            // Add "All" option for radio buttons
            if (config.type === 'radio') {
                const allOption = document.createElement('li');
                allOption.innerHTML = `
                    <label class="neumorphic-control">
                        <input type="radio" name="${config.key}" value="all" checked>
                        <span class="checkmark"></span>
                        <span class="filter-label">All</span>
                        <span class="facet-count">${projects.length}</span>
                    </label>
                `;
                container.insertBefore(allOption, container.firstChild);
            }
        });

        // Initialize year slider
        const yearSlider = document.getElementById('year-filter');
        const yearValue = document.getElementById('year-value');
        
        yearSlider.addEventListener('input', function() {
            yearValue.textContent = this.value;
            activeFilters.year = parseInt(this.value);
            applyFilters();
        });
    }

    // Apply filters and update display
    function applyFilters() {
        const filteredProjects = projects.filter(project => {
            // Year filter
            if (project.year < activeFilters.year) return false;
            
            // Medium filter (radio - single selection)
            if (activeFilters.medium.length > 0 && !activeFilters.medium.includes('all')) {
                if (!activeFilters.medium.includes(project.medium)) return false;
            }
            
            // Multi-select filters (checkboxes)
            const multiSelectFilters = ['genre', 'tech', 'style', 'mood'];
            for (const filterKey of multiSelectFilters) {
                if (activeFilters[filterKey].length > 0) {
                    const hasMatch = activeFilters[filterKey].some(filterValue => 
                        project[filterKey].includes(filterValue)
                    );
                    if (!hasMatch) return false;
                }
            }
            
            return true;
        });

        renderProjects(filteredProjects);
        updateActiveFiltersDisplay();
    }

    // Update active filters display
    function updateActiveFiltersDisplay() {
        const container = document.getElementById('active-filters-container');
        container.innerHTML = '';

        // Add filter pills for active filters
        Object.entries(activeFilters).forEach(([key, values]) => {
            if (key === 'year') {
                if (values > 2020) {
                    const pill = createFilterPill(`After ${values}`, key, values);
                    container.appendChild(pill);
                }
            } else if (Array.isArray(values) && values.length > 0) {
                values.forEach(value => {
                    if (value !== 'all') {
                        const pill = createFilterPill(value.replace('-', ' '), key, value);
                        container.appendChild(pill);
                    }
                });
            }
        });
    }

    // Create filter pill element
    function createFilterPill(label, filterKey, filterValue) {
        const pill = document.createElement('div');
        pill.className = 'filter-pill';
        pill.innerHTML = `
            <span>${label}</span>
            <button onclick="removeFilter('${filterKey}', '${filterValue}')">×</button>
        `;
        return pill;
    }

    // Remove filter function
    window.removeFilter = function(filterKey, filterValue) {
        if (filterKey === 'year') {
            activeFilters.year = 2020;
            document.getElementById('year-filter').value = 2020;
            document.getElementById('year-value').textContent = '2020';
        } else {
            const index = activeFilters[filterKey].indexOf(filterValue);
            if (index > -1) {
                activeFilters[filterKey].splice(index, 1);
            }
            
            // Update corresponding checkbox/radio
            const input = document.querySelector(`input[name="${filterKey}"][value="${filterValue}"]`);
            if (input) {
                input.checked = false;
            }
            
            // For radio buttons, check "all" if no other option is selected
            if (filterKey === 'medium' && activeFilters[filterKey].length === 0) {
                const allOption = document.querySelector(`input[name="${filterKey}"][value="all"]`);
                if (allOption) {
                    allOption.checked = true;
                }
            }
        }
        
        applyFilters();
    };

    // Render projects grid
    function renderProjects(projectsToRender) {
        const container = document.getElementById('project-grid-container');
        container.innerHTML = '';

        projectsToRender.forEach(project => {
            const card = document.createElement('div');
            card.className = `project-card ${project.variant || ''}`;
            card.innerHTML = `
                <img src="${project.imageUrl}" alt="${project.title}">
                <div class="project-card-content">
                    <h3>${project.title}</h3>
                    <p>${project.description}</p>
                    <div class="card-tags">
                        ${project.genre.map(tag => `<span class="card-tag">${tag}</span>`).join('')}
                    </div>
                </div>
                <div class="project-status status-${project.status}">${project.status}</div>
            `;
            
            card.addEventListener('click', () => showProjectDetail(project));
            container.appendChild(card);
        });
    }

    // Show project detail view
    function showProjectDetail(project) {
        const detailView = document.getElementById('detail-view');
        const galleryView = document.getElementById('gallery-view');
        
        detailView.innerHTML = `
            <div class="case-study-container">
                <nav class="case-study-nav">
                    <ul>
                        <li><a href="#overview">Overview</a></li>
                        <li><a href="#process">Process</a></li>
                        <li><a href="#technology">Technology</a></li>
                        <li><a href="#impact">Impact</a></li>
                    </ul>
                </nav>
                <div class="case-study-content">
                    <div class="back-to-gallery" onclick="showGalleryView()">← Back to Gallery</div>
                    
                    <div class="hero-section">
                        <img src="${project.imageUrl}" alt="${project.title}">
                    </div>
                    
                    <div class="title-block">
                        <h1>${project.title}</h1>
                        <p class="lead">${project.description}</p>
                    </div>
                    
                    <div class="key-info-block">
                        <div class="info-item">
                            <h4>Medium</h4>
                            <p>${project.medium}</p>
                        </div>
                        <div class="info-item">
                            <h4>Year</h4>
                            <p>${project.year}</p>
                        </div>
                        <div class="info-item">
                            <h4>Status</h4>
                            <p>${project.status}</p>
                        </div>
                    </div>
                    
                    <div class="section">
                        <h2 id="overview">Overview</h2>
                        <p>This project represents a unique intersection of ${project.genre.join(', ')} and ${project.style.join(', ')} aesthetics. The work explores themes of ${project.mood.join(' and ')} through innovative use of ${project.tech.join(', ')}.</p>
                        
                        <div class="stats-grid">
                            <div class="stat-item">
                                <div class="stat-number">42</div>
                                <div class="stat-label">Hours</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-number">7</div>
                                <div class="stat-label">Iterations</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-number">100%</div>
                                <div class="stat-label">Satisfaction</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="section">
                        <h2 id="process">Creative Process</h2>
                        <div class="narrative-block">
                            <div>
                                <h3>Discovery & Research</h3>
                                <p>Every project begins with deep research into the subject matter and target audience. I believe in understanding not just what to build, but why it needs to exist.</p>
                            </div>
                            <div>
                                <img src="https://images.unsplash.com/photo-1581291518857-4e27b48ff24e?w=400&h=300&fit=crop" alt="Research process">
                            </div>
                        </div>
                        
                        <div class="narrative-block reverse">
                            <div>
                                <h3>Iteration & Refinement</h3>
                                <p>Through multiple iterations, the concept evolves from initial sketches to fully realized experiences. Each version builds upon the learnings of the previous.</p>
                            </div>
                            <div>
                                <img src="https://images.unsplash.com/photo-1581291518633-83b4ebd1d83e?w=400&h=300&fit=crop" alt="Iteration process">
                            </div>
                        </div>
                    </div>
                    
                    <div class="section">
                        <h2 id="technology">Technology Stack</h2>
                        <div class="tech-tags-container">
                            ${project.tech.map(tech => `<span class="tech-tag">${tech}</span>`).join('')}
                        </div>
                        <p>The technical implementation balances innovation with reliability, ensuring the final product is both cutting-edge and robust.</p>
                    </div>
                    
                    <div class="section">
                        <h2 id="impact">Impact & Reflection</h2>
                        <div class="quote-block">
                            <p>This project pushed the boundaries of what's possible when technology meets creativity. It's a testament to the power of interdisciplinary thinking.</p>
                            <cite>— Ray Swan, Creator</cite>
                        </div>
                        <p>The project has resonated with audiences who appreciate the careful balance between technical excellence and creative vision. It represents a step forward in my ongoing exploration of how technology can enhance human expression.</p>
                    </div>
                </div>
            </div>
        `;
        
        galleryView.style.display = 'none';
        detailView.style.display = 'block';
    }

    // Show gallery view
    window.showGalleryView = function() {
        const detailView = document.getElementById('detail-view');
        const galleryView = document.getElementById('gallery-view');
        
        detailView.style.display = 'none';
        galleryView.style.display = 'block';
    };

    // Event listeners for filters
    function setupFilterEventListeners() {
        document.addEventListener('change', function(e) {
            if (e.target.type === 'checkbox' || e.target.type === 'radio') {
                const filterKey = e.target.name;
                const filterValue = e.target.value;
                
                if (e.target.type === 'radio') {
                    // Radio button - single selection
                    activeFilters[filterKey] = filterValue === 'all' ? [] : [filterValue];
                } else {
                    // Checkbox - multiple selection
                    if (e.target.checked) {
                        if (!activeFilters[filterKey].includes(filterValue)) {
                            activeFilters[filterKey].push(filterValue);
                        }
                    } else {
                        const index = activeFilters[filterKey].indexOf(filterValue);
                        if (index > -1) {
                            activeFilters[filterKey].splice(index, 1);
                        }
                    }
                }
                
                applyFilters();
            }
        });
    }

    // Modal functionality
    function setupModals() {
        const aboutModal = document.getElementById('about-modal');
        const contactModal = document.getElementById('contact-modal');
        const openAboutBtn = document.getElementById('open-about-modal');
        const openContactBtn = document.getElementById('open-contact-modal');

        openAboutBtn.addEventListener('click', () => {
            aboutModal.style.display = 'flex';
        });

        openContactBtn.addEventListener('click', () => {
            contactModal.style.display = 'flex';
        });

        // Close modals
        document.addEventListener('click', function(e) {
            if (e.target.classList.contains('modal-overlay') || 
                e.target.classList.contains('modal-close-btn')) {
                const modal = e.target.closest('.modal-overlay');
                if (modal) {
                    modal.style.display = 'none';
                }
            }
        });
    }

    // Initialize everything
    function init() {
        initializeFilters();
        setupFilterEventListeners();
        setupModals();
        renderProjects(projects);
        updateActiveFiltersDisplay();
    }

    // Start the application
    init();
});
</script>
</body>
</html>