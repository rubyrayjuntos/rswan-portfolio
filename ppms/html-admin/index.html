<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PPMS Dashboard - Portfolio Project Management System</title>
    <link rel="stylesheet" href="css/admin.css">
    <link rel="stylesheet" href="css/reconciliation.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body id="ppms-dashboard">
    <div class="background-layer"></div>
    
    <!-- Header -->
    <header class="dashboard-header">
        <div class="header-content">
            <h1><i class="fas fa-cube"></i> PPMS Dashboard</h1>
            <div class="header-actions">
                <button class="btn btn-secondary" id="exportBtn">
                    <i class="fas fa-download"></i> Export
                </button>
                <button class="btn btn-primary" id="saveBtn">
                    <i class="fas fa-save"></i> Save All
                </button>
            </div>
        </div>
    </header>

    <!-- Navigation Tabs -->
    <nav class="dashboard-nav">
        <div class="nav-container">
            <button class="nav-tab active" data-tab="dashboard">
                <i class="fas fa-tachometer-alt"></i> Dashboard
            </button>
            <button class="nav-tab" data-tab="projects">
                <i class="fas fa-project-diagram"></i> Projects
            </button>
            <button class="nav-tab" data-tab="lookups">
                <i class="fas fa-tags"></i> Lookups
            </button>
            <button class="nav-tab" data-tab="files">
                <i class="fas fa-folder"></i> Files
            </button>
            <button class="nav-tab" data-tab="export">
                <i class="fas fa-file-export"></i> Export
            </button>
            <button class="nav-tab" data-tab="backup">
                <i class="fas fa-database"></i> Backup
            </button>
            <button class="nav-tab" data-tab="settings">
                <i class="fas fa-cog"></i> Settings
            </button>
            <button class="nav-tab" data-tab="analytics">
                <i class="fas fa-chart-bar"></i> Analytics
            </button>
            <button class="nav-tab" data-tab="reconciliation">
                <i class="fas fa-sync-alt"></i> Data Sync
            </button>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="dashboard-main">
        <!-- Dashboard Tab -->
        <div class="tab-content active" id="dashboard-tab">
            <div class="dashboard-grid">
                <!-- Quick Stats -->
                <section class="stats-section">
                    <h2><i class="fas fa-chart-pie"></i> Quick Stats</h2>
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-number" id="totalProjects">15</div>
                            <div class="stat-label">Projects</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number" id="totalGenres">8</div>
                            <div class="stat-label">Genres</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number" id="totalStyles">12</div>
                            <div class="stat-label">Styles</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number" id="totalMediums">3</div>
                            <div class="stat-label">Mediums</div>
                        </div>
                    </div>
                </section>

                <!-- Recent Activity -->
                <section class="activity-section">
                    <h2><i class="fas fa-fire"></i> Recent Activity</h2>
                    <div class="activity-list" id="recentActivity">
                        <div class="activity-item">
                            <i class="fas fa-edit activity-icon"></i>
                            <div class="activity-content">
                                <div class="activity-text">Updated "Nova Writers Conspiracy"</div>
                                <div class="activity-time">2 min ago</div>
                            </div>
                        </div>
                        <div class="activity-item">
                            <i class="fas fa-plus activity-icon"></i>
                            <div class="activity-content">
                                <div class="activity-text">Added new genre "AI/ML"</div>
                                <div class="activity-time">15 min ago</div>
                            </div>
                        </div>
                        <div class="activity-item">
                            <i class="fas fa-download activity-icon"></i>
                            <div class="activity-content">
                                <div class="activity-text">Exported manifest</div>
                                <div class="activity-time">1 hour ago</div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Validation Issues -->
                <section class="validation-section">
                    <h2><i class="fas fa-exclamation-triangle"></i> Validation Issues</h2>
                    <div class="validation-list" id="validationIssues">
                        <div class="validation-item error">
                            <i class="fas fa-times-circle"></i>
                            <span>2 projects missing required fields</span>
                        </div>
                        <div class="validation-item warning">
                            <i class="fas fa-exclamation-circle"></i>
                            <span>1 broken image link</span>
                        </div>
                        <div class="validation-item info">
                            <i class="fas fa-info-circle"></i>
                            <span>3 outdated technology references</span>
                        </div>
                    </div>
                </section>
            </div>
        </div>

        <!-- Projects Tab -->
        <div class="tab-content" id="projects-tab">
            <div class="projects-header">
                <h2>Project Management Interface</h2>
                <div class="projects-controls">
                    <button class="btn btn-primary" id="addProjectBtn">
                        <i class="fas fa-plus"></i> Add New Project
                    </button>
                    <button class="btn btn-secondary" id="bulkActionsBtn">
                        <i class="fas fa-layer-group"></i> Bulk Actions
                    </button>
                    <button class="btn btn-secondary" id="templateBtn">
                        <i class="fas fa-file-alt"></i> Templates
                    </button>
                    <button class="btn btn-secondary" id="exportAllBtn">
                        <i class="fas fa-download"></i> Export for Portfolio
                    </button>
                </div>
            </div>

            <div class="projects-container">
                <!-- Project List -->
                <div class="project-list" id="projectList">
                    <!-- Projects will be loaded here -->
                </div>

                <!-- Project Editor -->
                <div class="project-editor" id="projectEditor">
                    <div class="editor-header">
                        <h3 id="editorTitle">Project: Nova Writers Conspiracy</h3>
                        <div class="editor-actions">
                            <button class="btn btn-info" id="previewProjectBtn">
                                <i class="fas fa-eye"></i> Preview
                            </button>
                            <button class="btn btn-secondary" id="cancelEditBtn">Cancel</button>
                            <button class="btn btn-primary" id="saveProjectBtn">Save</button>
                        </div>
                    </div>

                    <form id="projectForm" class="project-form">
                        <!-- Basic Information -->
                        <section class="form-section">
                            <h4>Basic Information</h4>
                            <div class="form-grid">
                                <div class="form-group">
                                    <label for="projectTitle">Title</label>
                                    <input type="text" id="projectTitle" name="title" required>
                                </div>
                                <div class="form-group">
                                    <label for="projectDescription">Description</label>
                                    <textarea id="projectDescription" name="description" rows="3" required></textarea>
                                </div>
                                <div class="form-group">
                                    <label for="projectMedium">Medium</label>
                                    <select id="projectMedium" name="medium" required>
                                        <option value="">Select Medium</option>
                                        <option value="code">Code</option>
                                        <option value="art">Art</option>
                                        <option value="writing">Writing</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="projectYear">Year</label>
                                    <input type="number" id="projectYear" name="year" min="2000" max="2030" required>
                                </div>
                                <div class="form-group">
                                    <label for="projectRole">Role</label>
                                    <select id="projectRole" name="role" required>
                                        <option value="">Select Role</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="projectMood">Mood</label>
                                    <select id="projectMood" name="mood" required>
                                        <option value="">Select Mood</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="projectStatus">Status</label>
                                    <select id="projectStatus" name="status">
                                        <option value="completed">Completed</option>
                                        <option value="in-progress">In Progress</option>
                                        <option value="development">Development</option>
                                        <option value="concept">Concept</option>
                                        <option value="on-hold">On Hold</option>
                                    </select>
                                </div>
                            </div>
                        </section>

                        <!-- Content Sections -->
                        <section class="form-section">
                            <h4>Content Sections</h4>
                            <div class="form-grid">
                                <div class="form-group full-width">
                                    <label for="projectPitch">Pitch</label>
                                    <textarea id="projectPitch" name="pitch" rows="3" required></textarea>
                                </div>
                                <div class="form-group full-width">
                                    <label for="projectChallenge">Challenge</label>
                                    <textarea id="projectChallenge" name="challenge" rows="3" required></textarea>
                                </div>
                                <div class="form-group full-width">
                                    <label for="projectDevelopment">Development</label>
                                    <textarea id="projectDevelopment" name="development" rows="3" required></textarea>
                                </div>
                                <div class="form-group full-width">
                                    <label for="projectOutcome">Outcome</label>
                                    <textarea id="projectOutcome" name="outcome" rows="3" required></textarea>
                                </div>
                            </div>
                        </section>

                        <!-- Arrays & Relationships -->
                        <section class="form-section">
                            <h4>Arrays & Relationships</h4>
                            <div class="form-grid">
                                <div class="form-group">
                                    <label>Genres</label>
                                    <div class="tag-selector" id="genreSelector">
                                        <!-- Genre tags will be loaded here -->
                                    </div>
                                    <button type="button" class="btn btn-sm btn-secondary" id="addGenreBtn">
                                        <i class="fas fa-plus"></i> Add Genre
                                    </button>
                                </div>
                                <div class="form-group">
                                    <label>Styles</label>
                                    <div class="tag-selector" id="styleSelector">
                                        <!-- Style tags will be loaded here -->
                                    </div>
                                    <button type="button" class="btn btn-sm btn-secondary" id="addStyleBtn">
                                        <i class="fas fa-plus"></i> Add Style
                                    </button>
                                </div>
                                <div class="form-group">
                                    <label>Technologies</label>
                                    <div class="tag-selector" id="techSelector">
                                        <!-- Technology tags will be loaded here -->
                                    </div>
                                    <button type="button" class="btn btn-sm btn-secondary" id="addTechBtn">
                                        <i class="fas fa-plus"></i> Add Technology
                                    </button>
                                </div>
                            </div>
                        </section>

                        <!-- Medium-Specific Content -->
                        <section class="form-section">
                            <h4>Medium-Specific Content</h4>
                            <div class="medium-content" id="mediumContent">
                                <!-- Content will be loaded based on medium selection -->
                            </div>
                        </section>

                        <!-- Validation Status -->
                        <section class="form-section">
                            <h4>Validation Status</h4>
                            <div class="validation-status" id="validationStatus">
                                <!-- Validation status will be shown here -->
                            </div>
                        </section>
                    </form>
                </div>
            </div>
        </div>

        <!-- Lookups Tab -->
        <div class="tab-content" id="lookups-tab">
            <div class="lookups-header">
                <h2>Lookup Management</h2>
                <button class="btn btn-primary" id="addLookupBtn">
                    <i class="fas fa-plus"></i> Add
                </button>
            </div>

            <div class="lookups-container">
                <!-- Genres -->
                <section class="lookup-section">
                    <h3>Genres (<span id="genreCount">15</span> total)</h3>
                    <div class="lookup-list" id="genreList">
                        <!-- Genres will be loaded here -->
                    </div>
                    <button class="btn btn-sm btn-secondary" id="addNewGenreBtn">
                        <i class="fas fa-plus"></i> Add New Genre
                    </button>
                </section>

                <!-- Technologies -->
                <section class="lookup-section">
                    <h3>Technologies (<span id="techCount">23</span> total)</h3>
                    <div class="lookup-list" id="techList">
                        <!-- Technologies will be loaded here -->
                    </div>
                    <button class="btn btn-sm btn-secondary" id="addNewTechBtn">
                        <i class="fas fa-plus"></i> Add New Technology
                    </button>
                </section>

                <!-- Styles -->
                <section class="lookup-section">
                    <h3>Styles (<span id="styleCount">12</span> total)</h3>
                    <div class="lookup-list" id="styleList">
                        <!-- Styles will be loaded here -->
                    </div>
                    <button class="btn btn-sm btn-secondary" id="addNewStyleBtn">
                        <i class="fas fa-plus"></i> Add New Style
                    </button>
                </section>
            </div>
        </div>

        <!-- Files Tab -->
        <div class="tab-content" id="files-tab">
            <div class="files-header">
                <h2>File Management</h2>
                <button class="btn btn-primary" id="uploadFileBtn">
                    <i class="fas fa-upload"></i> Upload Files
                </button>
            </div>
            <div class="files-container" id="filesContainer">
                <!-- File management interface will be loaded here -->
            </div>
        </div>

        <!-- Export Tab -->
        <div class="tab-content" id="export-tab">
            <div class="export-header">
                <h2>Export & Import</h2>
            </div>
            <div class="export-container">
                <section class="export-section">
                    <h3>Export Options</h3>
                    <div class="export-options">
                        <button class="btn btn-primary" id="exportManifestBtn">
                            <i class="fas fa-file-code"></i> Export Manifest
                        </button>
                        <button class="btn btn-secondary" id="exportProjectsBtn">
                            <i class="fas fa-file-json"></i> Export All Projects
                        </button>
                        <button class="btn btn-secondary" id="exportLookupsBtn">
                            <i class="fas fa-tags"></i> Export Lookups
                        </button>
                        <button class="btn btn-success" id="exportPortfolioBtn">
                            <i class="fas fa-download"></i> Export for Portfolio
                        </button>
                    </div>
                </section>
                <section class="import-section">
                    <h3>Import Options</h3>
                    <div class="import-options">
                        <input type="file" id="importFile" accept=".json" style="display: none;">
                        <button class="btn btn-primary" id="importBtn">
                            <i class="fas fa-file-import"></i> Import JSON
                        </button>
                        <input type="file" id="bulkImportFiles" accept=".json" multiple style="display: none;">
                        <button class="btn btn-secondary" id="bulkImportBtn">
                            <i class="fas fa-folder-open"></i> Bulk Import Projects
                        </button>
                    </div>
                </section>
            </div>
        </div>

        <!-- Settings Tab -->
        <div class="tab-content" id="settings-tab">
            <div class="settings-header">
                <h2>System Settings</h2>
            </div>
            <div class="settings-container" id="settingsContainer">
                <!-- Settings interface will be loaded here -->
            </div>
        </div>

        <!-- Backup Tab -->
        <div class="tab-content" id="backup-tab">
            <div class="backup-header">
                <h2>Backup & Version Control</h2>
                <div class="backup-actions">
                    <button class="btn btn-primary" id="createBackupBtn">
                        <i class="fas fa-plus"></i> Create Backup
                    </button>
                    <button class="btn btn-secondary" id="autoBackupToggle">
                        <i class="fas fa-clock"></i> Auto Backup: OFF
                    </button>
                </div>
            </div>
            
            <div class="backup-container">
                <div class="backup-stats">
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-database"></i>
                        </div>
                        <div class="stat-info">
                            <div class="stat-value" id="totalBackups">0</div>
                            <div class="stat-label">Total Backups</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-calendar"></i>
                        </div>
                        <div class="stat-info">
                            <div class="stat-value" id="lastBackupTime">Never</div>
                            <div class="stat-label">Last Backup</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-hdd"></i>
                        </div>
                        <div class="stat-info">
                            <div class="stat-value" id="backupSize">0 KB</div>
                            <div class="stat-label">Storage Used</div>
                        </div>
                    </div>
                </div>
                
                <div class="backup-list">
                    <h3>Backup History</h3>
                    <div class="backup-items" id="backupItems">
                        <div class="empty-state">
                            <i class="fas fa-database"></i>
                            <h4>No backups yet</h4>
                            <p>Create your first backup to protect your data</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Analytics Tab -->
        <div class="tab-content" id="analytics-tab">
            <div class="analytics-header">
                <h2>Analytics & Insights</h2>
                <div class="analytics-actions">
                    <button class="btn btn-secondary" id="refreshAnalyticsBtn">
                        <i class="fas fa-sync-alt"></i> Refresh
                    </button>
                    <button class="btn btn-primary" id="exportAnalyticsBtn">
                        <i class="fas fa-download"></i> Export Report
                    </button>
                </div>
            </div>
            <div class="analytics-data-source">
                <p><i class="fas fa-info-circle"></i> 
                   <strong>Data Sources:</strong> 
                   <span class="data-source-real">Real project data</span> • 
                   <span class="data-source-estimated">Estimated metrics</span> • 
                   <span class="data-source-simulated">Simulated usage</span>
                </p>
            </div>
            
            <div class="analytics-container">
                <!-- Performance Metrics -->
                <div class="analytics-section">
                    <h3>Performance Metrics</h3>
                    <div class="metrics-grid">
                        <div class="metric-card">
                            <div class="metric-icon">
                                <i class="fas fa-clock"></i>
                            </div>
                            <div class="metric-info">
                                <div class="metric-value" id="avgLoadTime">--</div>
                                <div class="metric-label">Avg Load Time</div>
                            </div>
                        </div>
                        
                        <div class="metric-card">
                            <div class="metric-icon">
                                <i class="fas fa-eye"></i>
                            </div>
                            <div class="metric-info">
                                <div class="metric-value" id="pageViews">--</div>
                                <div class="metric-label">Portfolio Views</div>
                            </div>
                        </div>
                        
                        <div class="metric-card">
                            <div class="metric-icon">
                                <i class="fas fa-mouse-pointer"></i>
                            </div>
                            <div class="metric-info">
                                <div class="metric-value" id="userInteractions">--</div>
                                <div class="metric-label">User Interactions</div>
                            </div>
                        </div>
                        
                        <div class="metric-card">
                            <div class="metric-icon">
                                <i class="fas fa-search"></i>
                            </div>
                            <div class="metric-info">
                                <div class="metric-value" id="searchQueries">--</div>
                                <div class="metric-label">Search Queries</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Content Analytics -->
                <div class="analytics-section">
                    <h3>Content Analytics</h3>
                    <div class="content-analytics">
                        <div class="analytics-chart">
                            <h4>Projects by Medium</h4>
                            <canvas id="mediumChart" width="300" height="200"></canvas>
                        </div>
                        
                        <div class="analytics-chart">
                            <h4>Popular Technologies</h4>
                            <div id="techPopularity" class="popularity-list">
                                <!-- Tech popularity will be rendered here -->
                            </div>
                        </div>
                        
                        <div class="analytics-chart">
                            <h4>Project Status Distribution</h4>
                            <canvas id="statusChart" width="300" height="200"></canvas>
                        </div>
                        
                        <div class="analytics-chart">
                            <h4>Content Quality Score</h4>
                            <div class="quality-score">
                                <div class="score-circle" id="qualityScoreCircle">
                                    <span id="qualityScoreValue">--</span>
                                </div>
                                <div class="score-breakdown" id="qualityBreakdown">
                                    <!-- Quality breakdown will be rendered here -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Usage Insights -->
                <div class="analytics-section">
                    <h3>Usage Insights</h3>
                    <div class="insights-grid">
                        <div class="insight-card">
                            <h4>Most Viewed Projects</h4>
                            <div id="popularProjects" class="insight-list">
                                <!-- Popular projects will be rendered here -->
                            </div>
                        </div>
                        
                        <div class="insight-card">
                            <h4>Filter Usage</h4>
                            <div id="filterUsage" class="insight-list">
                                <!-- Filter usage will be rendered here -->
                            </div>
                        </div>
                        
                        <div class="insight-card">
                            <h4>Search Trends</h4>
                            <div id="searchTrends" class="insight-list">
                                <!-- Search trends will be rendered here -->
                            </div>
                        </div>
                        
                        <div class="insight-card">
                            <h4>System Health</h4>
                            <div id="systemHealth" class="health-indicators">
                                <!-- System health will be rendered here -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Reconciliation Tab -->
        <div class="tab-content" id="reconciliation-tab">
            <div class="reconciliation-header">
                <h2><i class="fas fa-sync-alt"></i> Data Synchronization</h2>
                <div class="reconciliation-actions">
                    <button class="btn btn-primary" id="runReconciliationBtn">
                        <i class="fas fa-search"></i> Analyze Data
                    </button>
                    <button class="btn btn-secondary" id="syncPortfolioBtn">
                        <i class="fas fa-upload"></i> Sync to Portfolio
                    </button>
                    <button class="btn btn-info" id="viewFileManagerBtn">
                        <i class="fas fa-folder-open"></i> File Manager
                    </button>
                </div>
            </div>

            <div class="reconciliation-container">
                <!-- Sync Status -->
                <div class="sync-status-section">
                    <h3>Sync Status</h3>
                    <div class="status-grid">
                        <div class="status-card">
                            <div class="status-icon">
                                <i class="fas fa-database"></i>
                            </div>
                            <div class="status-info">
                                <div class="status-label">PPMS Projects</div>
                                <div class="status-value" id="ppmsProjectCount">--</div>
                            </div>
                        </div>
                        
                        <div class="status-card">
                            <div class="status-icon">
                                <i class="fas fa-globe"></i>
                            </div>
                            <div class="status-info">
                                <div class="status-label">Portfolio Projects</div>
                                <div class="status-value" id="portfolioProjectCount">--</div>
                            </div>
                        </div>
                        
                        <div class="status-card">
                            <div class="status-icon">
                                <i class="fas fa-check-circle"></i>
                            </div>
                            <div class="status-info">
                                <div class="status-label">In Sync</div>
                                <div class="status-value" id="syncStatus">--</div>
                            </div>
                        </div>
                        
                        <div class="status-card">
                            <div class="status-icon">
                                <i class="fas fa-exclamation-triangle"></i>
                            </div>
                            <div class="status-info">
                                <div class="status-label">Issues Found</div>
                                <div class="status-value" id="issueCount">--</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Reconciliation Results -->
                <div class="reconciliation-results" id="reconciliationResults" style="display: none;">
                    <h3>Analysis Results</h3>
                    <div class="results-tabs">
                        <button class="result-tab active" data-tab="summary">Summary</button>
                        <button class="result-tab" data-tab="missing">Missing Projects</button>
                        <button class="result-tab" data-tab="duplicates">Duplicates</button>
                        <button class="result-tab" data-tab="format">Format Issues</button>
                        <button class="result-tab" data-tab="recommendations">Recommendations</button>
                    </div>
                    
                    <div class="result-content">
                        <div class="result-panel active" id="summary-panel">
                            <div class="summary-stats" id="summaryStats"></div>
                        </div>
                        
                        <div class="result-panel" id="missing-panel">
                            <div class="missing-projects" id="missingProjects"></div>
                        </div>
                        
                        <div class="result-panel" id="duplicates-panel">
                            <div class="duplicate-projects" id="duplicateProjects"></div>
                        </div>
                        
                        <div class="result-panel" id="format-panel">
                            <div class="format-issues" id="formatIssues"></div>
                        </div>
                        
                        <div class="result-panel" id="recommendations-panel">
                            <div class="recommendations" id="recommendations"></div>
                        </div>
                    </div>
                </div>

                <!-- File Manager Interface -->
                <div class="file-manager-section" id="fileManagerSection" style="display: none;">
                    <h3>Portfolio File Manager</h3>
                    <div class="file-manager-controls">
                        <button class="btn btn-primary" id="loadManifestBtn">
                            <i class="fas fa-folder-open"></i> Load Manifest
                        </button>
                        <button class="btn btn-secondary" id="refreshProjectsBtn">
                            <i class="fas fa-sync"></i> Refresh Projects
                        </button>
                        <button class="btn btn-info" id="exportToPortfolioBtn">
                            <i class="fas fa-upload"></i> Export to Portfolio
                        </button>
                    </div>
                    
                    <div class="file-manager-status" id="fileManagerStatus">
                        <div class="status-message">Click "Load Manifest" to start managing portfolio files</div>
                    </div>
                    
                    <div class="file-manager-content" id="fileManagerContent" style="display: none;">
                        <div class="manifest-info" id="manifestInfo"></div>
                        <div class="project-list" id="fileManagerProjectList"></div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Modals -->
    <div class="modal" id="addLookupModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Add New Lookup</h3>
                <button class="modal-close" id="closeLookupModal">&times;</button>
            </div>
            <div class="modal-body">
                <form id="lookupForm">
                    <div class="form-group">
                        <label for="lookupType">Type</label>
                        <select id="lookupType" name="type" required>
                            <option value="">Select Type</option>
                            <option value="genre">Genre</option>
                            <option value="style">Style</option>
                            <option value="technology">Technology</option>
                            <option value="mood">Mood</option>
                            <option value="role">Role</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="lookupValue">Value</label>
                        <input type="text" id="lookupValue" name="value" required>
                    </div>
                    <div class="form-group">
                        <label for="lookupDescription">Description</label>
                        <textarea id="lookupDescription" name="description" rows="3"></textarea>
                    </div>
                    <div class="form-group">
                        <label for="lookupCategory">Category</label>
                        <select id="lookupCategory" name="category">
                            <option value="universal">Universal</option>
                            <option value="code">Code</option>
                            <option value="art">Art</option>
                            <option value="writing">Writing</option>
                        </select>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="cancelLookupBtn">Cancel</button>
                <button class="btn btn-primary" id="saveLookupBtn">Save</button>
            </div>
        </div>
    </div>

    <!-- Project Preview Modal -->
    <div class="modal" id="projectPreviewModal">
        <div class="modal-content large">
            <div class="modal-header">
                <h3>Project Preview</h3>
                <button class="modal-close" id="closePreviewModal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="project-preview" id="projectPreviewContent">
                    <!-- Preview content will be generated here -->
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="closePreviewBtn">Close</button>
                <button class="btn btn-primary" id="exportPreviewBtn">Export Preview</button>
            </div>
        </div>
    </div>

    <!-- Bulk Actions Modal -->
    <div class="modal" id="bulkActionsModal">
        <div class="modal-content large">
            <div class="modal-header">
                <h3>Bulk Actions</h3>
                <button class="modal-close" id="closeBulkActionsModal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="bulk-actions-container">
                    <div class="bulk-selection">
                        <h4>Select Projects</h4>
                        <div class="selection-controls">
                            <button class="btn btn-sm btn-secondary" id="selectAllProjects">Select All</button>
                            <button class="btn btn-sm btn-secondary" id="selectNoneProjects">Select None</button>
                            <button class="btn btn-sm btn-secondary" id="selectByStatusProjects">Select by Status</button>
                        </div>
                        <div id="bulkProjectList" class="bulk-project-list">
                            <!-- Project checkboxes will be loaded here -->
                        </div>
                    </div>
                    
                    <div class="bulk-operations">
                        <h4>Actions</h4>
                        <div class="bulk-action-buttons">
                            <button class="btn btn-secondary" id="bulkUpdateStatus">
                                <i class="fas fa-edit"></i> Update Status
                            </button>
                            <button class="btn btn-secondary" id="bulkAddTechnology">
                                <i class="fas fa-plus"></i> Add Technology
                            </button>
                            <button class="btn btn-secondary" id="bulkExport">
                                <i class="fas fa-download"></i> Export Selected
                            </button>
                            <button class="btn btn-danger" id="bulkDelete">
                                <i class="fas fa-trash"></i> Delete Selected
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Template Modal -->
    <div class="modal" id="templateModal">
        <div class="modal-content large">
            <div class="modal-header">
                <h3>Project Templates</h3>
                <button class="modal-close" id="closeTemplateModal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="template-container">
                    <div class="template-actions">
                        <button class="btn btn-primary" id="createTemplateBtn">
                            <i class="fas fa-plus"></i> Create Template
                        </button>
                        <button class="btn btn-secondary" id="importTemplateBtn">
                            <i class="fas fa-upload"></i> Import Template
                        </button>
                    </div>
                    
                    <div class="template-list" id="templateList">
                        <!-- Templates will be loaded here -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Template Creation Modal -->
    <div class="modal" id="createTemplateModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Create Template</h3>
                <button class="modal-close" id="closeCreateTemplateModal">&times;</button>
            </div>
            <div class="modal-body">
                <form id="templateForm">
                    <div class="form-group">
                        <label for="templateName">Template Name</label>
                        <input type="text" id="templateName" name="name" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="templateDescription">Description</label>
                        <textarea id="templateDescription" name="description" rows="3"></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label for="templateCategory">Category</label>
                        <select id="templateCategory" name="category">
                            <option value="web">Web Development</option>
                            <option value="mobile">Mobile Development</option>
                            <option value="design">Design</option>
                            <option value="writing">Writing</option>
                            <option value="data">Data Science</option>
                            <option value="other">Other</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label>Based on Existing Project</label>
                        <select id="templateBaseProject" name="baseProject">
                            <option value="">Create from scratch</option>
                            <!-- Project options will be loaded here -->
                        </select>
                    </div>
                    
                    <div class="form-actions">
                        <button type="submit" class="btn btn-primary">Create Template</button>
                        <button type="button" class="btn btn-secondary" id="cancelCreateTemplate">Cancel</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Gallery and Media Fields -->
    <div class="form-section gallery-section">
        <h3>Gallery & Media</h3>
        <div class="form-content">
                                <div class="form-group">
                        <label for="projectGallery">Gallery Images</label>
                        <small class="form-help">The first image will be used as the hero image for previews and portfolio display</small>
                        <div class="gallery-input-container">
                            <textarea id="projectGallery" name="gallery" rows="3" placeholder="Enter image URLs, one per line..."></textarea>
                            <div class="gallery-preview" id="galleryPreview">
                                <!-- Gallery preview will be shown here -->
                            </div>
                        </div>
                        <div class="gallery-actions">
                            <button type="button" class="btn btn-sm btn-secondary" id="addGalleryImageBtn">
                                <i class="fas fa-plus"></i> Add Image URL
                            </button>
                            <button type="button" class="btn btn-sm btn-primary" onclick="dashboard.openImageUploadModal()">
                                <i class="fas fa-upload"></i> Upload Images
                            </button>
                        </div>
                    </div>

            <div class="form-group">
                <label for="projectMedia">Media Files</label>
                <div class="media-input-container">
                    <textarea id="projectMedia" name="media" rows="2" placeholder="Enter media file URLs (videos, PDFs, etc.), one per line..."></textarea>
                </div>
                <button type="button" class="btn btn-sm btn-secondary" id="addMediaFileBtn">
                    <i class="fas fa-plus"></i> Add Media
                </button>
            </div>
        </div>
    </div>

    <!-- Notifications -->
    <div class="notifications" id="notifications"></div>

    <!-- Gallery Modal -->
    <div class="modal" id="galleryModal">
      <div class="modal-content">
        <div class="modal-header">
          <h3 id="galleryModalTitle">Edit Gallery Image</h3>
          <button class="modal-close" id="closeGalleryModal">&times;</button>
        </div>
        <div class="modal-body">
          <form id="galleryForm">
            <div class="form-group">
              <label for="galleryImageUrl">Image URL</label>
              <div class="input-group">
                <input type="text" id="galleryImageUrl" name="url" required>
                <button type="button" class="btn btn-sm btn-secondary" id="uploadImageBtn">
                  <i class="fas fa-upload"></i> Upload
                </button>
              </div>
              <input type="file" id="galleryImageFile" accept="image/*" style="display: none;">
            </div>
            <div class="form-group">
              <label for="galleryImageTitle">Title</label>
              <input type="text" id="galleryImageTitle" name="title" required>
            </div>
            <div class="form-group">
              <label for="galleryImageDescription">Description</label>
              <textarea id="galleryImageDescription" name="description"></textarea>
            </div>
            <div class="form-group">
              <label for="galleryImageDimensions">Dimensions</label>
              <input type="text" id="galleryImageDimensions" name="dimensions">
            </div>
            <div class="image-preview" id="imagePreview" style="display: none;">
              <img id="previewImage" src="" alt="Preview" style="max-width: 100%; max-height: 200px; border-radius: 8px;">
            </div>
          </form>
        </div>
        <div class="modal-footer">
          <button class="btn btn-secondary" id="cancelGalleryBtn">Cancel</button>
          <button class="btn btn-primary" id="saveGalleryBtn">Save</button>
        </div>
      </div>
    </div>

    <!-- Image Upload Modal -->
    <div class="modal" id="imageUploadModal">
      <div class="modal-content">
        <div class="modal-header">
          <h3>Upload Images</h3>
          <button class="modal-close" id="closeImageUploadModal">&times;</button>
        </div>
        <div class="modal-body">
          <div class="upload-section">
            <h4>Upload Images for Project</h4>
            <p>Select multiple images to upload to your project gallery</p>
            
            <div class="upload-area" id="uploadArea">
              <input type="file" id="bulkImageUpload" accept="image/*" multiple style="display: none;">
              <div class="upload-placeholder">
                <i class="fas fa-cloud-upload-alt"></i>
                <p>Click to select images or drag and drop</p>
                <button class="btn btn-primary" id="selectImagesBtn">
                  <i class="fas fa-images"></i> Select Images
                </button>
              </div>
            </div>
            
            <div class="upload-progress" id="uploadProgress" style="display: none;">
              <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
              </div>
              <p id="progressText">Uploading images...</p>
            </div>
            
            <div class="uploaded-images" id="uploadedImages">
              <!-- Uploaded images will be displayed here -->
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button class="btn btn-secondary" id="cancelImageUploadBtn">Cancel</button>
          <button class="btn btn-primary" id="confirmImageUploadBtn" disabled>Add to Gallery</button>
        </div>
      </div>
    </div>
    <!-- Artifact Modal -->
    <div class="modal" id="artifactModal">
      <div class="modal-content">
        <div class="modal-header">
          <h3 id="artifactModalTitle">Edit Artifact</h3>
          <button class="modal-close" id="closeArtifactModal">&times;</button>
        </div>
        <div class="modal-body">
          <form id="artifactForm">
            <div class="form-group">
              <label for="artifactName">Name</label>
              <input type="text" id="artifactName" name="name" required>
            </div>
            <div class="form-group">
              <label for="artifactDescription">Description</label>
              <textarea id="artifactDescription" name="description" required></textarea>
            </div>
            <div class="form-group">
              <label for="artifactUrl">URL</label>
              <input type="text" id="artifactUrl" name="url">
            </div>
            <div class="form-group">
              <label for="artifactType">Type</label>
              <input type="text" id="artifactType" name="type">
            </div>
          </form>
        </div>
        <div class="modal-footer">
          <button class="btn btn-secondary" id="cancelArtifactBtn">Cancel</button>
          <button class="btn btn-primary" id="saveArtifactBtn">Save</button>
        </div>
      </div>
    </div>
    <!-- Bulk Actions Modal -->
    <div class="modal" id="bulkActionsModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Bulk Actions</h3>
                <button class="modal-close" id="closeBulkActionsModal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="bulk-actions-header">
                    <div class="bulk-selection-controls">
                        <button class="btn btn-sm btn-secondary" id="selectAllProjects">
                            <i class="fas fa-check-square"></i> Select All
                        </button>
                        <button class="btn btn-sm btn-secondary" id="selectNoneProjects">
                            <i class="fas fa-square"></i> Select None
                        </button>
                    </div>
                    <div class="bulk-actions-info">
                        <span id="selectedCount">0</span> projects selected
                    </div>
                </div>
                
                <div class="bulk-project-list" id="bulkProjectList">
                    <!-- Projects will be loaded here -->
                </div>
                
                <div class="bulk-actions-toolbar">
                    <button class="btn btn-primary" id="bulkUpdateStatus">
                        <i class="fas fa-edit"></i> Update Status
                    </button>
                    <button class="btn btn-primary" id="bulkAddTechnology">
                        <i class="fas fa-tags"></i> Add Technology
                    </button>
                    <button class="btn btn-secondary" id="bulkExport">
                        <i class="fas fa-download"></i> Export Selected
                    </button>
                    <button class="btn btn-danger" id="bulkDelete">
                        <i class="fas fa-trash"></i> Delete Selected
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Templates Modal -->
    <div class="modal" id="templateModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Project Templates</h3>
                <button class="modal-close" id="closeTemplateModal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="template-actions">
                    <button class="btn btn-primary" id="createTemplateBtn">
                        <i class="fas fa-plus"></i> Create Template
                    </button>
                    <button class="btn btn-secondary" id="importTemplateBtn">
                        <i class="fas fa-upload"></i> Import Template
                    </button>
                </div>
                
                <div class="template-list" id="templateList">
                    <!-- Templates will be loaded here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Create Template Modal -->
    <div class="modal" id="createTemplateModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Create New Template</h3>
                <button class="modal-close" id="closeCreateTemplateModal">&times;</button>
            </div>
            <div class="modal-body">
                <form id="templateForm">
                    <div class="form-group">
                        <label for="templateName">Template Name</label>
                        <input type="text" id="templateName" name="name" required placeholder="Enter template name">
                    </div>
                    
                    <div class="form-group">
                        <label for="templateDescription">Description</label>
                        <textarea id="templateDescription" name="description" rows="3" placeholder="Describe this template..."></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label for="templateCategory">Category</label>
                        <select id="templateCategory" name="category" required>
                            <option value="">Select category</option>
                            <option value="web-development">Web Development</option>
                            <option value="design">Design</option>
                            <option value="writing">Writing</option>
                            <option value="art">Art</option>
                            <option value="other">Other</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="templateBaseProject">Base on Existing Project (Optional)</label>
                        <select id="templateBaseProject" name="baseProject">
                            <option value="">Create from scratch</option>
                            <!-- Project options will be loaded here -->
                        </select>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="cancelCreateTemplate">Cancel</button>
                <button class="btn btn-primary" type="submit" form="templateForm">Create Template</button>
            </div>
        </div>
    </div>

    <!-- Journey Modal -->
    <div class="modal" id="journeyModal">
      <div class="modal-content">
        <div class="modal-header">
          <h3 id="journeyModalTitle">Edit Journey Phase</h3>
          <button class="modal-close" id="closeJourneyModal">&times;</button>
        </div>
        <div class="modal-body">
                          <form id="journeyForm">
                    <div class="form-group">
                        <label for="journeyTitle">Title</label>
                        <input type="text" id="journeyTitle" name="title" required>
                    </div>
                    <div class="form-group">
                        <label for="journeyDescription">Description</label>
                        <div class="markdown-editor-container">
                            <div class="editor-toolbar">
                                <button type="button" class="editor-btn" data-action="bold" title="Bold">
                                    <i class="fas fa-bold"></i>
                                </button>
                                <button type="button" class="editor-btn" data-action="italic" title="Italic">
                                    <i class="fas fa-italic"></i>
                                </button>
                                <button type="button" class="editor-btn" data-action="link" title="Link">
                                    <i class="fas fa-link"></i>
                                </button>
                                <button type="button" class="editor-btn" data-action="list" title="Bullet List">
                                    <i class="fas fa-list-ul"></i>
                                </button>
                                <div class="editor-divider"></div>
                                <button type="button" class="editor-btn" data-action="preview" title="Preview">
                                    <i class="fas fa-eye"></i>
                                </button>
                                <button type="button" class="editor-btn" data-action="help" title="Markdown Help">
                                    <i class="fas fa-question-circle"></i>
                                </button>
                            </div>
                            <div class="editor-content">
                                <textarea id="journeyDescription" name="description" required placeholder="Enter your journey description here... You can use Markdown formatting."></textarea>
                                <div id="journeyPreview" class="markdown-preview" style="display: none;"></div>
                            </div>
                            <div class="editor-help" id="markdownHelp" style="display: none;">
                                <h4>Markdown Quick Reference</h4>
                                <div class="help-grid">
                                    <div><strong>**bold text**</strong> → <strong>bold text</strong></div>
                                    <div><em>*italic text*</em> → <em>italic text</em></div>
                                    <div>[link text](url) → <a href="#">link text</a></div>
                                    <div>- bullet point → • bullet point</div>
                                    <div># Heading → <strong>Heading</strong></div>
                                    <div>`code` → <code>code</code></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
        </div>
        <div class="modal-footer">
          <button class="btn btn-secondary" id="cancelJourneyBtn">Cancel</button>
          <button class="btn btn-primary" id="saveJourneyBtn">Save</button>
        </div>
      </div>
    </div>

    <!-- Add Project Modal -->
    <div class="modal" id="addProjectModal">
      <div class="modal-content">
        <div class="modal-header">
          <h3>Add New Project</h3>
          <button class="modal-close" id="closeAddProjectModal">&times;</button>
        </div>
        <div class="modal-body">
          <div class="add-project-options">
            <div class="option-card" id="startFreshOption">
              <div class="option-icon">
                <i class="fas fa-plus-circle"></i>
              </div>
              <h4>Start Fresh</h4>
              <p>Create a new project from scratch with empty fields</p>
              <button class="btn btn-primary" id="startFreshBtn">
                <i class="fas fa-plus"></i> Start Fresh
              </button>
            </div>
            <div class="option-card" id="loadFromJsonOption">
              <div class="option-icon">
                <i class="fas fa-file-import"></i>
              </div>
              <h4>Load from JSON</h4>
              <p>Import project data from an existing JSON file</p>
              <input type="file" id="projectJsonFile" accept=".json" style="display: none;">
              <button class="btn btn-secondary" id="loadFromJsonBtn">
                <i class="fas fa-upload"></i> Choose JSON File
              </button>
            </div>
          </div>
          <div class="json-preview" id="jsonPreview" style="display: none;">
            <h4>JSON Preview</h4>
            <div class="preview-content" id="previewContent"></div>
            <div class="preview-actions">
              <button class="btn btn-secondary" id="cancelJsonBtn">Cancel</button>
              <button class="btn btn-primary" id="confirmJsonBtn">Load This Project</button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script src="js/admin.js"></script>
    <script src="js/data-reconciliation.js"></script>
    <script src="js/portfolio-file-manager.js"></script>
</body>
</html> 